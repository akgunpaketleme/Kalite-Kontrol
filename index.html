<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AKG Kalite Kontrol ve Paketleme Takip Sistemi</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; color: #333; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #2c3e50, #34495e); color: white; padding: 25px; border-radius: 15px; text-align: center; margin-bottom: 30px; box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .tabs { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 25px; justify-content: center; }
        .tab { background: linear-gradient(135deg, #3498db, #2980b9); color: white; border: none; padding: 15px 25px; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3); }
        .tab:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4); }
        .tab.active { background: linear-gradient(135deg, #e74c3c, #c0392b); box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4); }
        .tab-content { display: none; background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .tab-content.active { display: block; }
        .tab-content h2 { color: #2c3e50; margin-bottom: 25px; font-size: 2em; text-align: center; background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 15px; border-radius: 10px; }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 25px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-weight: 600; margin-bottom: 8px; color: #2c3e50; font-size: 1.1em; }
        .form-group input, .form-group select, .form-group textarea { padding: 12px; border: 2px solid #bdc3c7; border-radius: 8px; font-size: 16px; transition: all 0.3s ease; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #3498db; box-shadow: 0 0 10px rgba(52, 152, 219, 0.3); }
        .btn { background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3); margin: 5px; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4); }
        .btn-success { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .btn-danger { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .hata-container { background: #f8f9fa; padding: 25px; border-radius: 12px; margin-bottom: 25px; border: 2px solid #e9ecef; }
        .hata-container h3 { color: #2c3e50; margin-bottom: 20px; text-align: center; background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; padding: 12px; border-radius: 8px; }
        .hata-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 15px; }
        .hata-item { background: white; padding: 20px; border-radius: 10px; border: 2px solid #e9ecef; display: flex; align-items: center; justify-content: space-between; transition: all 0.3s ease; }
        .hata-item:hover { border-color: #3498db; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.1); }
        .hata-item input[type="checkbox"] { margin-right: 12px; transform: scale(1.3); }
        .hata-item label { flex-grow: 1; font-weight: 600; color: #2c3e50; }
        .hata-adet-container { display: flex; gap: 8px; }
        .hata-adet { width: 70px; padding: 8px; text-align: center; border: 2px solid #e9ecef; border-radius: 6px; font-weight: bold; }
        .hata-adet:first-child { border-color: #e74c3c; color: #e74c3c; }
        .hata-adet:last-child { border-color: #f39c12; color: #f39c12; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .stat-card { background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 25px; border-radius: 12px; text-align: center; box-shadow: 0 6px 20px rgba(52, 152, 219, 0.3); }
        .stat-card h3 { font-size: 2.5em; margin-bottom: 10px; }
        .stat-card p { font-size: 1.1em; opacity: 0.9; }
        .alert { padding: 15px; margin: 15px 0; border-radius: 8px; font-weight: 600; }
        .alert-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .alert-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .kayit-item { background: white; border: 2px solid #e9ecef; border-radius: 10px; padding: 20px; margin-bottom: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        .kayit-header { background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 12px 15px; border-radius: 6px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; font-weight: 600; }
        .kayit-details { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; color: #2c3e50; }
        .stok-kayit-item { background: white; border: 2px solid #e9ecef; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: all 0.3s ease; }
        .stok-kayit-item:hover { border-color: #3498db; box-shadow: 0 6px 20px rgba(52, 152, 219, 0.2); }
        .stok-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #ecf0f1; }
        .stok-header h4 { color: #2c3e50; font-size: 1.3em; }
        .stok-bilgi { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stok-bilgi-item { display: flex; justify-content: space-between; padding: 10px; background: #f8f9fa; border-radius: 6px; border-left: 4px solid #3498db; }
        .stok-kontrol { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 15px; padding: 15px; background: #ecf0f1; border-radius: 8px; }
        .stok-btn-small { background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; font-size: 18px; font-weight: bold; transition: all 0.3s ease; }
        .stok-btn-small.minus { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .stok-btn-small:hover { transform: scale(1.1); }
        .stok-adet-display { background: white; padding: 8px 15px; border: 2px solid #3498db; border-radius: 6px; font-weight: bold; font-size: 1.2em; color: #2c3e50; min-width: 60px; text-align: center; }
        .stok-adet-input { width: 80px; padding: 8px; text-align: center; border: 2px solid #f39c12; border-radius: 6px; font-weight: bold; }
        .stok-actions { display: flex; gap: 10px; justify-content: center; }
        .btn-edit { background: linear-gradient(135deg, #f39c12, #e67e22); color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-size: 12px; transition: all 0.3s ease; }
        .btn-delete { background: linear-gradient(135deg, #e74c3c, #c0392b); color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-size: 12px; transition: all 0.3s ease; }
        .btn-edit:hover, .btn-delete:hover { transform: translateY(-2px); }
        .kaydedilmis-stoklar { background: #f8f9fa; padding: 25px; border-radius: 12px; margin: 25px 0; border: 2px solid #e9ecef; }
        .kaydedilmis-stoklar h3 { color: #2c3e50; margin-bottom: 20px; text-align: center; background: linear-gradient(135deg, #27ae60, #2ecc71); color: white; padding: 12px; border-radius: 8px; }
        .siparis-checkbox-container { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid #e9ecef; }
        .siparis-checkboxes { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-top: 10px; }
        .checkbox-item { display: flex; align-items: center; gap: 5px; font-size: 14px; font-weight: 500; cursor: pointer; padding: 5px; border-radius: 4px; transition: background-color 0.2s ease; }
        .checkbox-item:hover { background-color: #e9ecef; }
        .checkbox-item input[type="checkbox"] { transform: scale(1.1); }
        
        /* Yeni stiller - GÃ¼ncel Ä°ÅŸler iÃ§in */
        .gorev-item { background: white; border: 2px solid #e9ecef; border-radius: 10px; padding: 15px; margin-bottom: 10px; cursor: move; transition: all 0.3s ease; }
        .gorev-item:hover { box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-color: #3498db; }
        .gorev-item.tamamlandi { opacity: 0.6; background: #f0f9f0; }
        .gorev-item.tamamlandi .gorev-baslik { text-decoration: line-through; }
        .gorev-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .gorev-baslik { font-weight: 600; font-size: 1.1em; color: #2c3e50; }
        .aciliyet-badge { padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: bold; color: white; }
        .aciliyet-badge.acil { background: #e74c3c; }
        .aciliyet-badge.normal { background: #3498db; }
        .aciliyet-badge.dusuk { background: #95a5a6; }
        .gorev-notlar { background: #f8f9fa; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 14px; color: #666; }
        .gorev-not-item { background: white; padding: 8px; margin: 5px 0; border-radius: 4px; border-left: 3px solid #3498db; }
        .gorev-not-item strong { color: #2c3e50; }
        
        /* SipariÅŸ durumu badge'leri */
        .durum-badge { padding: 5px 12px; border-radius: 15px; font-size: 13px; font-weight: bold; color: white; display: inline-block; }
        .durum-badge.bekleniyor { background: #f39c12; }
        .durum-badge.geldi { background: #27ae60; }
        .durum-badge.iptal { background: #95a5a6; }
        .durum-badge.gonderildi { background: #16a085; }
        
        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .hata-grid { grid-template-columns: 1fr; }
            .tabs { flex-direction: column; }
            .tab { width: 100%; margin-bottom: 5px; }
            .stok-bilgi { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ AKG Kalite Kontrol ve Paketleme Takip Sistemi</h1>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('kalite-kontrol')">ğŸ” Kalite Kontrol</button>
            <button class="tab" onclick="showTab('guncel-isler')">ğŸ“‹ GÃ¼ncel Ä°ÅŸler</button>
            <button class="tab" onclick="showTab('siparis-hazirlik')">ğŸ“‹ SipariÅŸ HazÄ±rlÄ±ÄŸÄ±</button>
            <button class="tab" onclick="showTab('siparisler')">ğŸ›’ SipariÅŸler</button>
            <button class="tab" onclick="showTab('gunluk-performans')">âš¡ GÃ¼nlÃ¼k Performans</button>
            <button class="tab" onclick="showTab('stok')">ğŸ“¦ Stok YÃ¶netimi</button>
            <button class="tab" onclick="showTab('temizleme')">ğŸ§½ Temizlemeye Gidecek ÃœrÃ¼nler</button>
            <button class="tab" onclick="showTab('temizlemeden-gelen')">âœ¨ Temizlemeden Gelen ÃœrÃ¼nler</button>
            <button class="tab" onclick="showTab('sevke-hazir')">ğŸ“¤ Sevke HazÄ±r ÃœrÃ¼nler</button>
            <button class="tab" onclick="showTab('sevk-edilen')">ğŸšš Sevk Edilen ÃœrÃ¼nler</button>
            <button class="tab" onclick="showTab('yari-mamul')">ğŸ”§ YarÄ± MamÃ¼l Stok</button>
            <button class="tab" onclick="showTab('istatistikler')">ğŸ“ˆ Ä°statistikler</button>
            <button class="tab" onclick="showTab('veri-goruntule')">ğŸ“Š Veri GÃ¶rÃ¼ntÃ¼le</button>
            <button class="tab" onclick="showTab('raporlar')">ğŸ“‹ Raporlar</button>
            <button class="tab" onclick="showTab('ayarlar')">âš™ï¸ Ayarlar</button>
        </div>

        <!-- Kalite Kontrol Tab -->
        <div id="kalite-kontrol" class="tab-content active">
            <h2>ğŸ” Kalite Kontrol Formu</h2>
            <form id="kaliteForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="tarih">ğŸ“… Tarih/Saat</label>
                        <input type="datetime-local" id="tarih" required>
                    </div>
                    <div class="form-group">
                        <label for="operator">ğŸ‘¤ OperatÃ¶rÃ¼n AdÄ±</label>
                        <select id="operator" required>
                            <option value="">OperatÃ¶r seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="urunKodu">ğŸ“¦ ÃœrÃ¼n Kodu</label>
                        <input type="text" id="urunKodu" placeholder="ÃœrÃ¼n kodunu girin" required>
                    </div>
                    <div class="form-group">
                        <label for="toplamAdet">ğŸ“Š Toplam Adet</label>
                        <input type="number" id="toplamAdet" min="1" placeholder="Toplam Ã¼rÃ¼n adedi" required>
                    </div>
                    <div class="form-group">
                        <label for="siparisNo">ğŸ”¢ SipariÅŸ NumarasÄ±</label>
                        <input type="text" id="siparisNo" placeholder="SipariÅŸ numarasÄ±nÄ± girin" required>
                    </div>
                </div>

                <div class="hata-container">
                    <h3>ğŸš« Hata TÃ¼rleri ve Adetleri</h3>
                    <div style="display: flex; justify-content: flex-end; margin-bottom: 15px; gap: 8px; font-size: 12px; color: #666; font-weight: bold;">
                        <span style="color: #e74c3c; width: 70px; text-align: center;">Ä°skarta</span>
                        <span style="color: #f39c12; width: 70px; text-align: center;">Geri Giden</span>
                    </div>
                    <div class="hata-grid">
                        <div class="hata-item">
                            <input type="checkbox" id="hata1" name="hatalar" value="AÄŸÄ±z yamukluÄŸu">
                            <label for="hata1">AÄŸÄ±z yamukluÄŸu</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata2" name="hatalar" value="Yetersiz kaynak">
                            <label for="hata2">Yetersiz kaynak</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata3" name="hatalar" value="Fazla kaynak">
                            <label for="hata3">Fazla kaynak</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata4" name="hatalar" value="BakÄ±r erimesi">
                            <label for="hata4">BakÄ±r erimesi</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata5" name="hatalar" value="DÄ±ÅŸa kaynak akmasÄ±">
                            <label for="hata5">DÄ±ÅŸa kaynak akmasÄ±</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata6" name="hatalar" value="Vuruk">
                            <label for="hata6">Vuruk</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata7" name="hatalar" value="BoÄŸum uzunluÄŸu farklÄ±lÄ±ÄŸÄ±">
                            <label for="hata7">BoÄŸum uzunluÄŸu farklÄ±lÄ±ÄŸÄ±</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata8" name="hatalar" value="BoÄŸum yamukluÄŸu">
                            <label for="hata8">BoÄŸum yamukluÄŸu</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata9" name="hatalar" value="Ã‡izik Ã¼rÃ¼n">
                            <label for="hata9">Ã‡izik Ã¼rÃ¼n</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata10" name="hatalar" value="TemizlenememiÅŸ Ã¼rÃ¼n">
                            <label for="hata10">TemizlenememiÅŸ Ã¼rÃ¼n</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hata11" name="hatalar" value="Bilyeli Ã¼rÃ¼n">
                            <label for="hata11">Bilyeli Ã¼rÃ¼n</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                        <div class="hata-item">
                            <input type="checkbox" id="hataDiger" name="hatalar" value="DiÄŸer">
                            <label for="hataDiger">DiÄŸer</label>
                            <div class="hata-adet-container">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                                <input type="number" class="hata-adet" placeholder="0" min="0">
                            </div>
                        </div>
                    </div>
                    <div id="digerHataDetay" style="display: none; margin-top: 15px;">
                        <label for="digerHataAciklama" style="display: block; margin-bottom: 5px; font-weight: bold;">DiÄŸer Hata AÃ§Ä±klamasÄ±:</label>
                        <input type="text" id="digerHataAciklama" placeholder="Hata detayÄ±nÄ± yazÄ±n..." style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 6px;">
                    </div>
                </div>

                <button type="submit" class="btn">ğŸ’¾ Kalite Kontrol KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="kaliteAlert"></div>

            <!-- Kalite Kontrol KayÄ±tlarÄ± Tablosu -->
            <div id="kaliteKayitlari">
                <h3>ğŸ“‹ Kalite Kontrol KayÄ±tlarÄ±</h3>
                <div id="kaliteKayitlariListesi"></div>
            </div>
        </div>

        <!-- GÃ¼ncel Ä°ÅŸler Tab -->
        <div id="guncel-isler" class="tab-content">
            <h2>ğŸ“‹ GÃ¼ncel Ä°ÅŸler - YapÄ±lacaklar Listesi</h2>
            
            <!-- GÃ¶rev Ekleme Formu -->
            <form id="gorevEkleForm">
                <h3>â• Yeni GÃ¶rev Ekle</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="gorevBaslik">ğŸ“ GÃ¶rev BaÅŸlÄ±ÄŸÄ±</label>
                        <input type="text" id="gorevBaslik" placeholder="GÃ¶rev baÅŸlÄ±ÄŸÄ±nÄ± girin" required>
                    </div>
                    <div class="form-group">
                        <label for="gorevAciliyet">âš ï¸ Aciliyet</label>
                        <select id="gorevAciliyet" required>
                            <option value="acil">ğŸ”´ Acil</option>
                            <option value="normal" selected>ğŸ”µ Normal</option>
                            <option value="dusuk">âšª DÃ¼ÅŸÃ¼k</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="gorevAtanan">ğŸ‘¤ Atanan KiÅŸi</label>
                        <select id="gorevAtanan">
                            <option value="">Herkes</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="gorevAciklama">ğŸ“„ AÃ§Ä±klama</label>
                        <textarea id="gorevAciklama" rows="3" placeholder="GÃ¶rev detaylarÄ±..."></textarea>
                    </div>
                </div>
                <button type="submit" class="btn">â• GÃ¶rev Ekle</button>
            </form>
            <div id="gorevAlert"></div>

            <!-- SÄ±ralama ve Filtreleme -->
            <div style="margin: 20px 0; display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="btn btn-success" onclick="siralaGorevler('aciliyet')">âš ï¸ Aciliyete GÃ¶re SÄ±rala</button>
                <button class="btn" onclick="siralaGorevler('tarih')">ğŸ“… Tarihe GÃ¶re SÄ±rala</button>
                <button class="btn btn-danger" onclick="tamamlananGizle()">ğŸ‘ï¸ TamamlananlarÄ± Gizle/GÃ¶ster</button>
            </div>

            <!-- GÃ¶revler Listesi -->
            <div id="gorevlerListesi"></div>
        </div>

        <!-- SipariÅŸler Tab (Yeni) -->
        <div id="siparisler" class="tab-content">
            <h2>ğŸ›’ SipariÅŸler - ÃœrÃ¼n Ä°htiyaÃ§larÄ±</h2>
            
            <!-- SipariÅŸ Ekleme Formu -->
            <form id="urunSiparisForm">
                <h3>â• Yeni ÃœrÃ¼n SipariÅŸi</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="siparisUrunAdi">ğŸ“¦ ÃœrÃ¼n AdÄ±</label>
                        <input type="text" id="siparisUrunAdi" placeholder="ÃœrÃ¼n adÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="siparisAdetMiktar">ğŸ“Š Adet / Miktar</label>
                        <input type="text" id="siparisAdetMiktar" placeholder="Ã–rn: 100 adet" required>
                    </div>
                    <div class="form-group">
                        <label for="siparisOlcu">ğŸ“ Ã–lÃ§Ã¼</label>
                        <input type="text" id="siparisOlcu" placeholder="Ã–rn: 25x15 cm">
                    </div>
                    <div class="form-group">
                        <label for="siparisAciklama">ğŸ“ AÃ§Ä±klama / Not</label>
                        <textarea id="siparisAciklama" rows="3" placeholder="SipariÅŸ detaylarÄ±, Ã¶zel notlar..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="siparisTalipEden">ğŸ‘¤ Talep Eden</label>
                        <select id="siparisTalipEden" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">â• SipariÅŸ Ekle</button>
            </form>
            <div id="siparisAlert"></div>

            <!-- Filtre -->
            <div style="margin: 20px 0;">
                <label style="font-weight: 600; margin-right: 10px;">Filtre:</label>
                <button class="btn" onclick="filtreSiparisler('hepsi')">TÃ¼mÃ¼</button>
                <button class="btn btn-success" onclick="filtreSiparisler('bekleniyor')">Bekleniyor</button>
                <button class="btn btn-success" onclick="filtreSiparisler('geldi')">Geldi</button>
                <button class="btn-danger btn" onclick="filtreSiparisler('iptal')">Ä°ptal</button>
            </div>

            <!-- SipariÅŸler Listesi -->
            <div id="urunSiparislerListesi"></div>
        </div>

        <!-- SipariÅŸ HazÄ±rlÄ±ÄŸÄ± Tab (Not alanÄ± eklendi) -->
        <div id="siparis-hazirlik" class="tab-content">
            <h2>ğŸ“‹ SipariÅŸ HazÄ±rlÄ±ÄŸÄ±</h2>
            
            <!-- SipariÅŸ Ekleme Formu -->
            <form id="siparisEkleForm">
                <h3>â• Yeni SipariÅŸ Ekle</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="hazirlikTarih">ğŸ“… Tarih</label>
                        <input type="date" id="hazirlikTarih" required>
                    </div>
                    <div class="form-group">
                        <label for="hazirlikOperator">ğŸ‘¤ OperatÃ¶r</label>
                        <select id="hazirlikOperator" required>
                            <option value="">OperatÃ¶r seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="hazirlikSiparisNo">ğŸ”¢ SipariÅŸ No</label>
                        <input type="text" id="hazirlikSiparisNo" placeholder="SipariÅŸ numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="urunKoduSiparis">ğŸ“¦ ÃœrÃ¼n Kodu</label>
                        <input type="text" id="urunKoduSiparis" placeholder="ÃœrÃ¼n kodu" required>
                    </div>
                    <div class="form-group">
                        <label for="siparisAdet">ğŸ“Š SipariÅŸ Adedi</label>
                        <input type="number" id="siparisAdet" min="1" placeholder="Toplam adet" required>
                    </div>
                    <div class="form-group">
                        <label for="siparisNotlar">ğŸ“ Notlar (Yeni)</label>
                        <textarea id="siparisNotlar" rows="3" placeholder="Ã–rn: Ä°lk Ã¶nce B Ã¼rÃ¼nleri hazÄ±rlanacak..."></textarea>
                    </div>
                </div>
                <button type="submit" class="btn">â• SipariÅŸ Ekle</button>
            </form>
            <div id="siparisEkleAlert"></div>

            <!-- SipariÅŸler Listesi -->
            <div id="siparislerContainer">
                <h3>ğŸ“‹ Mevcut SipariÅŸler</h3>
                <div id="siparislerListesi"></div>
            </div>
        </div>

        <!-- Stok YÃ¶netimi Tab (Eksi stok ve kullanÄ±lan adet eklendi) -->
        <div id="stok" class="tab-content">
            <h2>ğŸ“¦ Stok YÃ¶netimi</h2>
            
            <!-- Stok Ekleme Formu -->
            <form id="stokForm">
                <h3>â• Stok Ekle/GÃ¼ncelle</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="stokMalzemeTuru">ğŸ”§ Malzeme TÃ¼rÃ¼</label>
                        <select id="stokMalzemeTuru" required>
                            <option value="">Malzeme tÃ¼rÃ¼nÃ¼ seÃ§in</option>
                            <option value="izolasyon">Ä°zolasyon</option>
                            <option value="koli">Koli</option>
                            <option value="kutu">Kutu</option>
                            <option value="poset">PoÅŸet</option>
                            <option value="tapa">Tapa</option>
                            <option value="etiket">Etiket</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="stokUrunAdi">ğŸ“¦ ÃœrÃ¼n AdÄ±</label>
                        <input type="text" id="stokUrunAdi" placeholder="ÃœrÃ¼n adÄ±nÄ± yazÄ±n" required>
                    </div>
                    <div class="form-group">
                        <label for="stokOlculeri">ğŸ“ Ã–lÃ§Ã¼ler (Ä°steÄŸe BaÄŸlÄ±)</label>
                        <input type="text" id="stokOlculeri" placeholder="Ã–rn: 25x15x10 cm">
                    </div>
                    <div class="form-group">
                        <label for="stokMevcut">ğŸ“Š Mevcut Adet (Eksi deÄŸer girilebilir)</label>
                        <input type="number" id="stokMevcut" placeholder="Mevcut adet (negatif de olabilir)" required>
                    </div>
                    <div class="form-group">
                        <label for="stokEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="stokEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button type="submit" class="btn">ğŸ’¾ Stok Kaydet</button>
                    <button type="button" class="btn btn-success" onclick="temizleStokFormu()">ğŸ§¹ Formu Temizle</button>
                </div>
            </form>
            <div id="stokAlert"></div>

            <!-- Stok YÃ¶netim ButonlarÄ± -->
            <div style="text-align: center; margin: 25px 0;">
                <button class="btn btn-success" onclick="tumStoklariYukle()">ğŸ”„ StoklarÄ± Yenile</button>
                <button class="btn btn-danger" onclick="tumStoklariSifirla()">ğŸ—‘ï¸ TÃ¼m StoklarÄ± Sil</button>
            </div>

            <!-- TÃ¼m Stoklar Ã–zeti -->
            <div class="kaydedilmis-stoklar">
                <h3>ğŸ“¦ TÃ¼m Stoklar Ã–zeti</h3>
                <div id="stokOzeti"></div>
            </div>

            <!-- Stoklar Listesi -->
            <div id="stokListesiContainer">
                <h3>ğŸ“‹ KayÄ±tlÄ± Stoklar</h3>
                <div id="stokListesi"></div>
            </div>
        </div>

        <!-- Temizlemeye Gidecek ÃœrÃ¼nler Tab -->
        <div id="temizleme" class="tab-content">
            <h2>ğŸ§½ Temizlemeye Gidecek ÃœrÃ¼nler</h2>
            <form id="temizlemeForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="temizlemeSiparisNo">ğŸ”¢ SipariÅŸ No</label>
                        <input type="text" id="temizlemeSiparisNo" placeholder="SipariÅŸ numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="temizlemeUrunKodu">ğŸ“¦ ÃœrÃ¼n Kodu</label>
                        <input type="text" id="temizlemeUrunKodu" placeholder="ÃœrÃ¼n kodu" required>
                    </div>
                    <div class="form-group">
                        <label for="temizlemeSiparisAdet">ğŸ“Š SipariÅŸ Adeti</label>
                        <input type="number" id="temizlemeSiparisAdet" min="0" placeholder="SipariÅŸ adeti" required>
                    </div>
                    <div class="form-group">
                        <label for="temizlemeGelenAdet">ğŸ“¦ Gelen ÃœrÃ¼n Adeti</label>
                        <input type="number" id="temizlemeGelenAdet" min="0" placeholder="Gelen Ã¼rÃ¼n adeti" required>
                    </div>
                    <div class="form-group">
                        <label for="temizlemeAdetKg">âš–ï¸ Adet KG</label>
                        <input type="number" id="temizlemeAdetKg" step="0.01" min="0" placeholder="Adet kg" required>
                    </div>
                    <div class="form-group">
                        <label for="temizlemeToplamKg">âš–ï¸ Toplam KG</label>
                        <input type="number" id="temizlemeToplamKg" step="0.01" min="0" placeholder="Toplam kg" required>
                    </div>
                    <div class="form-group">
                        <label for="temizlemeEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="temizlemeEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">ğŸ’¾ Temizleme KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="temizlemeAlert"></div>
            <div id="temizlemeListesi">
                <h3>ğŸ“‹ Temizlemeye Gidecek ÃœrÃ¼nler Listesi</h3>
                <div id="temizlemeKayitlari"></div>
            </div>
        </div>

        <!-- Temizlemeden Gelen ÃœrÃ¼nler Tab (YENÄ°) -->
        <div id="temizlemeden-gelen" class="tab-content">
            <h2>âœ¨ Temizlemeden Gelen ÃœrÃ¼nler</h2>
            <form id="temizGelForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="temizGelSiparisNo">ğŸ”¢ SipariÅŸ No</label>
                        <input type="text" id="temizGelSiparisNo" placeholder="SipariÅŸ numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelUrunKodu">ğŸ“¦ ÃœrÃ¼n Kodu</label>
                        <input type="text" id="temizGelUrunKodu" placeholder="ÃœrÃ¼n kodu" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelSiparisAdet">ğŸ“Š SipariÅŸ Adeti</label>
                        <input type="number" id="temizGelSiparisAdet" min="0" placeholder="SipariÅŸ adeti" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelBrutAgirlik">âš–ï¸ BrÃ¼t AÄŸÄ±rlÄ±k (kg)</label>
                        <input type="number" id="temizGelBrutAgirlik" step="0.01" min="0" placeholder="BrÃ¼t aÄŸÄ±rlÄ±k" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelNetAgirlik">âš–ï¸ Net AÄŸÄ±rlÄ±k (kg)</label>
                        <input type="number" id="temizGelNetAgirlik" step="0.01" min="0" placeholder="Net aÄŸÄ±rlÄ±k" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelDonenAdet">â†©ï¸ DÃ¶nen Adet</label>
                        <input type="number" id="temizGelDonenAdet" min="0" placeholder="DÃ¶nen adet" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelFabrikadaKalan">ğŸ­ Fabrikada Kalan</label>
                        <input type="number" id="temizGelFabrikadaKalan" min="0" placeholder="Fabrikada kalan" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelBirimAgirlikOncesi">âš–ï¸ Birim AÄŸÄ±rlÄ±k (Ã–ncesi)</label>
                        <input type="number" id="temizGelBirimAgirlikOncesi" step="0.001" min="0" placeholder="Birim aÄŸÄ±rlÄ±k Ã¶ncesi" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelBirimAgirlikSonrasi">âš–ï¸ Birim AÄŸÄ±rlÄ±k (SonrasÄ±)</label>
                        <input type="number" id="temizGelBirimAgirlikSonrasi" step="0.001" min="0" placeholder="Birim aÄŸÄ±rlÄ±k sonrasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="temizGelTemizlemeKaybi">ğŸ“‰ Temizleme KaybÄ± (kg)</label>
                        <input type="number" id="temizGelTemizlemeKaybi" step="0.01" min="0" placeholder="Temizleme kaybÄ±">
                    </div>
                    <div class="form-group">
                        <label for="temizGelToplamMevcutAdet">ğŸ“¦ Toplam Mevcut Adet</label>
                        <input type="number" id="temizGelToplamMevcutAdet" min="0" placeholder="Toplam mevcut adet">
                    </div>
                    <div class="form-group">
                        <label for="temizGelEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="temizGelEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">ğŸ’¾ Temizlemeden Gelen KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="temizGelAlert"></div>
            <div id="temizGelListesi">
                <h3>ğŸ“‹ Temizlemeden Gelen ÃœrÃ¼nler Listesi</h3>
                <div id="temizGelKayitlari"></div>
            </div>
        </div>

        <!-- Sevke HazÄ±r ÃœrÃ¼nler Tab (GÃ¶nderildi iÅŸaretleme eklendi) -->
        <div id="sevke-hazir" class="tab-content">
            <h2>ğŸ“¤ Sevke HazÄ±r ÃœrÃ¼nler</h2>
            <form id="sevkeHazirForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="sevkeSiparisNo">ğŸ”¢ SipariÅŸ No</label>
                        <input type="text" id="sevkeSiparisNo" placeholder="SipariÅŸ numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkeUrunNo">ğŸ“¦ ÃœrÃ¼n No</label>
                        <input type="text" id="sevkeUrunNo" placeholder="ÃœrÃ¼n numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkeHazirAdet">ğŸ“Š Sevke HazÄ±r ÃœrÃ¼n Adeti</label>
                        <input type="number" id="sevkeHazirAdet" min="0" placeholder="Sevke hazÄ±r adet" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkeKoliAdet">ğŸ“¦ Koli Adeti</label>
                        <input type="number" id="sevkeKoliAdet" min="0" placeholder="Koli adeti" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkeHazirEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="sevkeHazirEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">ğŸ’¾ Sevke HazÄ±r KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="sevkeHazirAlert"></div>
            <div id="sevkeHazirListesi">
                <h3>ğŸ“‹ Sevke HazÄ±r ÃœrÃ¼nler Listesi</h3>
                <div id="sevkeHazirKayitlari"></div>
            </div>
        </div>

        <!-- Sevk Edilen ÃœrÃ¼nler Tab -->
        <div id="sevk-edilen" class="tab-content">
            <h2>ğŸšš Sevk Edilen ÃœrÃ¼n Listesi</h2>
            <form id="sevkEdilenForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="sevkSiparisNo">ğŸ”¢ SipariÅŸ No</label>
                        <input type="text" id="sevkSiparisNo" placeholder="SipariÅŸ numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkUrunTuru">ğŸ“¦ ÃœrÃ¼n TÃ¼rÃ¼</label>
                        <input type="text" id="sevkUrunTuru" placeholder="ÃœrÃ¼n tÃ¼rÃ¼" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkUrunNo">ğŸ“¦ ÃœrÃ¼n No</label>
                        <input type="text" id="sevkUrunNo" placeholder="ÃœrÃ¼n numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkTeslimTarih">ğŸ“… Teslim Edilen Tarih</label>
                        <input type="date" id="sevkTeslimTarih" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkTeslimAdet">ğŸ“Š Teslim Edilen Adet</label>
                        <input type="number" id="sevkTeslimAdet" min="0" placeholder="Teslim edilen adet" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkTeslimAlan">ğŸ‘¤ Teslim Alan</label>
                        <input type="text" id="sevkTeslimAlan" placeholder="Teslim alan kiÅŸi" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkDepoIrsaliye">ğŸ“‹ Depo GiriÅŸ Ä°rsaliyesi</label>
                        <input type="text" id="sevkDepoIrsaliye" placeholder="Ä°rsaliye numarasÄ±" required>
                    </div>
                    <div class="form-group">
                        <label for="sevkEdilenEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="sevkEdilenEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">ğŸ’¾ Sevk KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="sevkEdilenAlert"></div>
            <div id="sevkEdilenListesi">
                <h3>ğŸ“‹ Sevk Edilen ÃœrÃ¼nler Listesi</h3>
                <div id="sevkEdilenKayitlari"></div>
            </div>
        </div>

        <!-- YarÄ± MamÃ¼l Stok Tab -->
        <div id="yari-mamul" class="tab-content">
            <h2>ğŸ”§ YarÄ± MamÃ¼l Stok</h2>
            <form id="yariMamulForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="yariMamulUrunAdi">ğŸ“¦ ÃœrÃ¼n AdÄ±</label>
                        <input type="text" id="yariMamulUrunAdi" placeholder="ÃœrÃ¼n adÄ±nÄ± yazÄ±n" required>
                    </div>
                    <div class="form-group">
                        <label for="yariMamulAdet">ğŸ“Š Adeti</label>
                        <input type="number" id="yariMamulAdet" min="0" placeholder="Adet" required>
                    </div>
                    <div class="form-group">
                        <label for="yariMamulHangiParca">ğŸ”§ Hangi ParÃ§a</label>
                        <input type="text" id="yariMamulHangiParca" placeholder="ParÃ§a bilgisi" required>
                    </div>
                    <div class="form-group">
                        <label for="yariMamulNot">ğŸ“ Not</label>
                        <textarea id="yariMamulNot" rows="3" placeholder="Not yazÄ±n..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="yariMamulEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="yariMamulEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">ğŸ’¾ YarÄ± MamÃ¼l KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="yariMamulAlert"></div>
            <div id="yariMamulListesi">
                <h3>ğŸ“‹ YarÄ± MamÃ¼l Stok Listesi</h3>
                <div id="yariMamulKayitlari"></div>
            </div>
        </div>

        <!-- GÃ¼nlÃ¼k Performans Tab -->
        <div id="gunluk-performans" class="tab-content">
            <h2>âš¡ GÃ¼nlÃ¼k Performans Takibi</h2>
            <form id="performansForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="performansTarih">ğŸ“… Tarih</label>
                        <input type="date" id="performansTarih" required>
                    </div>
                    <div class="form-group">
                        <label for="performansCalisan">ğŸ‘¤ Ã‡alÄ±ÅŸan AdÄ±</label>
                        <select id="performansCalisan" required>
                            <option value="">Ã‡alÄ±ÅŸan seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="performansEkleyen">ğŸ‘¤ Verileri Ekleyen</label>
                        <select id="performansEkleyen" required>
                            <option value="">KiÅŸi seÃ§in</option>
                            <option value="Esat">Esat</option>
                            <option value="Ahmet">Ahmet</option>
                            <option value="Emre">Emre</option>
                            <option value="GÃ¶kay">GÃ¶kay</option>
                            <option value="Berke">Berke</option>
                            <option value="Melisa">Melisa</option>
                            <option value="Evrim">Evrim</option>
                            <option value="Koray">Koray</option>
                        </select>
                    </div>
                </div>

                <div class="hata-container">
                    <h3>ğŸ­ Ä°ÅŸlem PerformanslarÄ±</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <h4>ğŸ“¦ Kutu HazÄ±rlÄ±ÄŸÄ±</h4>
                            <input type="text" id="kutuHazirlikUrun" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="kutuHazirlikAdet" placeholder="Adet" min="0">
                            <input type="number" id="kutuHazirlikSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                        <div class="form-group">
                            <h4>ğŸ“‹ Koli HazÄ±rlama</h4>
                            <input type="text" id="koliHazirlamaUrun" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="koliHazirlamaAdet" placeholder="Adet" min="0">
                            <input type="number" id="koliHazirlamaSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                        <div class="form-group">
                            <h4>ğŸ”§ Ä°zolasyon</h4>
                            <input type="text" id="izolasyonUrunPerf" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="izolasyonAdetPerf" placeholder="Adet" min="0">
                            <input type="number" id="izolasyonSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                        <div class="form-group">
                            <h4>ğŸ” Kalite Kontrol</h4>
                            <input type="text" id="kaliteKontrolUrun" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="kaliteKontrolAdet" placeholder="Adet" min="0">
                            <input type="number" id="kaliteKontrolSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                        <div class="form-group">
                            <h4>ğŸ›ï¸ PoÅŸetleme</h4>
                            <input type="text" id="posetlemeUrunPerf" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="posetlemeAdetPerf" placeholder="Adet" min="0">
                            <input type="number" id="posetlemeSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                        <div class="form-group">
                            <h4>ğŸ“¦ ÃœrÃ¼n Kutulama</h4>
                            <input type="text" id="urunKutulamaUrun" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="urunKutulamaAdet" placeholder="Adet" min="0">
                            <input type="number" id="urunKutulamaSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                        <div class="form-group">
                            <h4>ğŸ”© Ek ParÃ§a</h4>
                            <input type="text" id="ekParcaUrunPerf" placeholder="ÃœrÃ¼n adÄ±">
                            <input type="number" id="ekParcaAdetPerf" placeholder="Adet" min="0">
                            <input type="number" id="ekParcaSure" placeholder="SÃ¼re (dk)" min="0">
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn">ğŸ’¾ Performans KaydÄ±nÄ± Kaydet</button>
            </form>
            <div id="performansAlert"></div>

            <!-- Son Performans KayÄ±tlarÄ± -->
            <div id="performansKayitlariContainer">
                <h3>ğŸ“Š Son Performans KayÄ±tlarÄ±</h3>
                <div id="performansKayitlariListesi"></div>
            </div>
        </div>

        <!-- Ä°statistikler Tab -->
        <div id="istatistikler" class="tab-content">
            <h2>ğŸ“ˆ Ä°statistikler</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="toplamKaliteKayit">0</h3>
                    <p>Toplam Kalite Kontrol</p>
                </div>
                <div class="stat-card">
                    <h3 id="toplamSiparisKayit">0</h3>
                    <p>Toplam SipariÅŸ</p>
                </div>
                <div class="stat-card">
                    <h3 id="toplamPerformansKayit">0</h3>
                    <p>Toplam Performans</p>
                </div>
                <div class="stat-card">
                    <h3 id="tamamlananSiparis">0</h3>
                    <p>Tamamlanan SipariÅŸ</p>
                </div>
                <div class="stat-card">
                    <h3 id="toplamHataAdet">0</h3>
                    <p>Toplam HatalÄ± ÃœrÃ¼n</p>
                </div>
                <div class="stat-card">
                    <h3 id="basariOrani">0%</h3>
                    <p>BaÅŸarÄ± OranÄ±</p>
                </div>
            </div>

            <div style="background: white; padding: 25px; border-radius: 10px; border: 2px solid #e9ecef; margin-bottom: 20px;">
                <h4 style="color: #2c3e50; margin-bottom: 15px; text-align: center; background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 12px; border-radius: 6px;">ğŸ“Š Hata Ä°statistikleri</h4>
                <div id="hataIstatistikleri"></div>
            </div>

            <div style="background: white; padding: 25px; border-radius: 10px; border: 2px solid #e9ecef; margin-bottom: 20px;">
                <h4 style="color: #2c3e50; margin-bottom: 15px; text-align: center; background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 12px; border-radius: 6px;">âš¡ Performans Ä°statistikleri</h4>
                <div id="performansIstatistikleri"></div>
            </div>

            <div style="background: white; padding: 25px; border-radius: 10px; border: 2px solid #e9ecef; margin-bottom: 20px;">
                <h4 style="color: #2c3e50; margin-bottom: 15px; text-align: center; background: linear-gradient(135deg, #3498db, #2980b9); color: white; padding: 12px; border-radius: 6px;">ğŸ‘¥ Ã‡alÄ±ÅŸan BazlÄ± Ä°statistikler</h4>
                <div id="calisanIstatistikleri"></div>
            </div>
        </div>

        <!-- Veri GÃ¶rÃ¼ntÃ¼le Tab -->
        <div id="veri-goruntule" class="tab-content">
            <h2>ğŸ“Š Veri GÃ¶rÃ¼ntÃ¼le</h2>
            <div class="form-grid" style="margin-bottom: 20px;">
                <div class="form-group">
                    <label for="veriTuru">ğŸ” Veri TÃ¼rÃ¼</label>
                    <select id="veriTuru" onchange="loadVeriTablosu()">
                        <option value="kalite">Kalite Kontrol Verileri</option>
                        <option value="siparis">SipariÅŸ HazÄ±rlÄ±k Verileri</option>
                        <option value="performans">Performans Verileri</option>
                        <option value="stok">Stok Verileri</option>
                        <option value="temizleme">Temizleme Verileri</option>
                        <option value="temizGel">Temizlemeden Gelen Verileri</option>
                        <option value="sevkeHazir">Sevke HazÄ±r Verileri</option>
                        <option value="sevkEdilen">Sevk Edilen Verileri</option>
                        <option value="yariMamul">YarÄ± MamÃ¼l Stok Verileri</option>
                        <option value="gorevler">GÃ¼ncel Ä°ÅŸler</option>
                        <option value="urunSiparisler">ÃœrÃ¼n SipariÅŸleri</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tarihFiltre">ğŸ“… Tarih Filtresi</label>
                    <select id="tarihFiltre" onchange="loadVeriTablosu()">
                        <option value="hepsi">TÃ¼m Tarihler</option>
                        <option value="bugun">BugÃ¼n</option>
                        <option value="bu-hafta">Bu Hafta</option>
                        <option value="bu-ay">Bu Ay</option>
                    </select>
                </div>
            </div>
            <div id="veriTablosuContainer"></div>
            <div style="margin-top: 20px; text-align: center;">
                <button class="btn" onclick="exportCurrentData()">ğŸ“¥ GÃ¶rÃ¼ntÃ¼lenen Verileri Excel'e Aktar</button>
            </div>
        </div>

        <!-- Raporlar Tab -->
        <div id="raporlar" class="tab-content">
            <h2>ğŸ“‹ Raporlar</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="toplamKayit">0</h3>
                    <p>Toplam Kalite Kontrol KaydÄ±</p>
                </div>
                <div class="stat-card">
                    <h3 id="toplamSiparis">0</h3>
                    <p>SipariÅŸ HazÄ±rlÄ±k KaydÄ±</p>
                </div>
                <div class="stat-card">
                    <h3 id="toplamPerformans">0</h3>
                    <p>Performans KaydÄ±</p>
                </div>
                <div class="stat-card">
                    <h3 id="stokSayisi">0</h3>
                    <p>Stok Kalemi</p>
                </div>
            </div>

            <div style="margin-top: 30px;">
                <button class="btn" onclick="exportToExcel('kalite')">ğŸ“¥ Kalite Verilerini Excel'e Aktar</button>
                <button class="btn btn-success" onclick="exportToExcel('performans')">ğŸ“¥ Performans Verilerini Excel'e Aktar</button>
                <button class="btn" onclick="exportToExcel('siparis')">ğŸ“¥ SipariÅŸ Verilerini Excel'e Aktar</button>
                <button class="btn btn-danger" onclick="exportToExcel('hepsi')">ğŸ“¥ TÃ¼m Verileri Excel'e Aktar</button>
            </div>
        </div>

        <!-- Ayarlar Tab -->
        <div id="ayarlar" class="tab-content">
            <h2>âš™ï¸ Sistem AyarlarÄ±</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label>ğŸ’¾ Veri Yedekleme</label>
                    <button class="btn" onclick="exportAllData()">TÃ¼m Verileri Yedekle (JSON)</button>
                </div>
                <div class="form-group">
                    <label>ğŸ“¤ Veri Geri YÃ¼kleme</label>
                    <input type="file" id="importFile" accept=".json" onchange="importData()">
                </div>
                <div class="form-group">
                    <label>ğŸ—‘ï¸ Veri Temizleme</label>
                    <button class="btn btn-danger" onclick="clearAllData()">TÃ¼m Verileri Temizle</button>
                </div>
            </div>
        </div>

        <!-- Modal for Editing -->
        <div id="editModal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
            <div style="background-color: white; margin: 5% auto; padding: 20px; border-radius: 10px; width: 90%; max-width: 800px; max-height: 80vh; overflow-y: auto;">
                <span style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;" onclick="document.getElementById('editModal').style.display='none'">&times;</span>
                <h3>âœï¸ DÃ¼zenle</h3>
                <div id="editFormContainer"></div>
            </div>
        </div>
    </div>

    <script>
        // Global deÄŸiÅŸkenler
        let kaliteKayitlari = JSON.parse(localStorage.getItem('kaliteKayitlari') || '[]');
        let siparisHazirlikKayitlari = JSON.parse(localStorage.getItem('siparisHazirlikKayitlari') || '[]');
        let performansKayitlari = JSON.parse(localStorage.getItem('performansKayitlari') || '[]');
        let stokKayitlari = JSON.parse(localStorage.getItem('stokKayitlari') || '[]');
        let temizlemeKayitlari = JSON.parse(localStorage.getItem('temizlemeKayitlari') || '[]');
        let temizGelKayitlari = JSON.parse(localStorage.getItem('temizGelKayitlari') || '[]');
        let sevkeHazirKayitlari = JSON.parse(localStorage.getItem('sevkeHazirKayitlari') || '[]');
        let sevkEdilenKayitlari = JSON.parse(localStorage.getItem('sevkEdilenKayitlari') || '[]');
        let yariMamulKayitlari = JSON.parse(localStorage.getItem('yariMamulKayitlari') || '[]');
        let gorevKayitlari = JSON.parse(localStorage.getItem('gorevKayitlari') || '[]');
        let urunSiparisKayitlari = JSON.parse(localStorage.getItem('urunSiparisKayitlari') || '[]');
        let tamamlananlariGoster = true;

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const nowString = now.toISOString().slice(0, 16);
            const today = now.toISOString().slice(0, 10);

            document.getElementById('tarih').value = nowString;
            document.getElementById('hazirlikTarih').value = today;
            document.getElementById('performansTarih').value = today;
            document.getElementById('sevkTeslimTarih').value = today;

            loadStats();
            loadStokListesi();
            loadKaliteKayitlari();
            loadSiparislerListesi();
            loadPerformansKayitlari();
            loadIstatistikler();
            loadVeriTablosu();
            tumStoklariOzetGoster();
            loadTemizlemeKayitlari();
            loadTemizGelKayitlari();
            loadSevkeHazirKayitlari();
            loadSevkEdilenKayitlari();
            loadYariMamulKayitlari();
            loadGorevlerListesi();
            loadUrunSiparislerListesi();

            // Form listeners
            document.getElementById('kaliteForm').addEventListener('submit', kaliteFormSubmit);
            document.getElementById('siparisEkleForm').addEventListener('submit', siparisEkle);
            document.getElementById('performansForm').addEventListener('submit', performansEkle);
            document.getElementById('stokForm').addEventListener('submit', stokEkleGuncelle);
            document.getElementById('temizlemeForm').addEventListener('submit', temizlemeEkle);
            document.getElementById('temizGelForm').addEventListener('submit', temizGelEkle);
            document.getElementById('sevkeHazirForm').addEventListener('submit', sevkeHazirEkle);
            document.getElementById('sevkEdilenForm').addEventListener('submit', sevkEdilenEkle);
            document.getElementById('yariMamulForm').addEventListener('submit', yariMamulEkle);
            document.getElementById('gorevEkleForm').addEventListener('submit', gorevEkle);
            document.getElementById('urunSiparisForm').addEventListener('submit', urunSiparisEkle);

            // DiÄŸer hata checkbox'Ä± iÃ§in listener
            document.getElementById('hataDiger').addEventListener('change', function() {
                const digerDetay = document.getElementById('digerHataDetay');
                digerDetay.style.display = this.checked ? 'block' : 'none';
            });
        });

        // ==================== GÃœNCEL Ä°ÅLER FONKSÄ°YONLARI ====================
        function gorevEkle(e) {
            e.preventDefault();
            
            const gorevData = {
                id: Date.now(),
                baslik: document.getElementById('gorevBaslik').value.trim(),
                aciliyet: document.getElementById('gorevAciliyet').value,
                atanan: document.getElementById('gorevAtanan').value,
                aciklama: document.getElementById('gorevAciklama').value.trim(),
                tamamlandi: false,
                notlar: [],
                olusturmaTarihi: new Date().toISOString(),
                sira: gorevKayitlari.length
            };

            gorevKayitlari.push(gorevData);
            localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
            
            document.getElementById('gorevEkleForm').reset();
            loadGorevlerListesi();
            showAlert('gorevAlert', 'GÃ¶rev baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadGorevlerListesi() {
            const container = document.getElementById('gorevlerListesi');
            if (!container) return;

            let filtrelenmisGorevler = gorevKayitlari;
            if (!tamamlananlariGoster) {
                filtrelenmisGorevler = gorevKayitlari.filter(g => !g.tamamlandi);
            }

            if (filtrelenmisGorevler.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z gÃ¶rev bulunmuyor.</p>';
                return;
            }

            let html = '<div style="margin-top: 20px;">';
            filtrelenmisGorevler.forEach(gorev => {
                const aciliyetClass = gorev.aciliyet === 'acil' ? 'acil' : gorev.aciliyet === 'normal' ? 'normal' : 'dusuk';
                const aciliyetText = gorev.aciliyet === 'acil' ? 'ğŸ”´ Acil' : gorev.aciliyet === 'normal' ? 'ğŸ”µ Normal' : 'âšª DÃ¼ÅŸÃ¼k';
                
                html += `
                    <div class="gorev-item ${gorev.tamamlandi ? 'tamamlandi' : ''}" draggable="true" ondragstart="dragStart(event)" ondragover="dragOver(event)" ondrop="drop(event)" data-id="${gorev.id}">
                        <div class="gorev-header">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" ${gorev.tamamlandi ? 'checked' : ''} onchange="toggleGorevTamamlandi(${gorev.id})" style="transform: scale(1.3);">
                                <div class="gorev-baslik">${gorev.baslik}</div>
                            </div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="aciliyet-badge ${aciliyetClass}">${aciliyetText}</span>
                                ${gorev.atanan ? `<span style="background: #3498db; color: white; padding: 4px 10px; border-radius: 12px; font-size: 12px;">ğŸ‘¤ ${gorev.atanan}</span>` : ''}
                                <button class="btn-edit" onclick="gorevDuzenle(${gorev.id})" style="padding: 5px 10px;">âœï¸</button>
                                <button class="btn-delete" onclick="gorevSil(${gorev.id})" style="padding: 5px 10px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        ${gorev.aciklama ? `<div style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 6px; font-size: 14px;">${gorev.aciklama}</div>` : ''}
                        
                        <div style="margin-top: 10px; border-top: 1px solid #ddd; padding-top: 10px;">
                            <div style="display: flex; gap: 5px; margin-bottom: 5px;">
                                <input type="text" id="not-input-${gorev.id}" placeholder="Not ekle..." style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 13px;">
                                <button class="btn" onclick="gorevNotEkle(${gorev.id})" style="padding: 8px 15px; font-size: 13px;">â• Not</button>
                            </div>
                            ${gorev.notlar && gorev.notlar.length > 0 ? `
                                <div class="gorev-notlar">
                                    ${gorev.notlar.map((not, index) => `
                                        <div class="gorev-not-item">
                                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                                <div style="flex: 1;">
                                                    <strong style="font-size: 12px; color: #3498db;">${not.ekleyen} - ${new Date(not.tarih).toLocaleString('tr-TR')}</strong>
                                                    <div>${not.metin}</div>
                                                </div>
                                                <button onclick="gorevNotSil(${gorev.id}, ${index})" style="background: none; border: none; color: #e74c3c; cursor: pointer; font-size: 16px;">âŒ</button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        function toggleGorevTamamlandi(id) {
            const gorev = gorevKayitlari.find(g => g.id === id);
            if (gorev) {
                gorev.tamamlandi = !gorev.tamamlandi;
                localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
                loadGorevlerListesi();
            }
        }

        function gorevNotEkle(id) {
            const input = document.getElementById(`not-input-${id}`);
            const notMetin = input.value.trim();
            if (!notMetin) return;

            const gorev = gorevKayitlari.find(g => g.id === id);
            if (gorev) {
                if (!gorev.notlar) gorev.notlar = [];
                gorev.notlar.push({
                    metin: notMetin,
                    ekleyen: 'KullanÄ±cÄ±',
                    tarih: new Date().toISOString()
                });
                localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
                input.value = '';
                loadGorevlerListesi();
            }
        }

        function gorevNotSil(gorevId, notIndex) {
            const gorev = gorevKayitlari.find(g => g.id === gorevId);
            if (gorev && gorev.notlar) {
                gorev.notlar.splice(notIndex, 1);
                localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
                loadGorevlerListesi();
            }
        }

        function gorevSil(id) {
            if (confirm('Bu gÃ¶revi silmek istediÄŸinizden emin misiniz?')) {
                gorevKayitlari = gorevKayitlari.filter(g => g.id !== id);
                localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
                loadGorevlerListesi();
                showAlert('gorevAlert', 'GÃ¶rev silindi!', 'success');
            }
        }

        function gorevDuzenle(id) {
            const gorev = gorevKayitlari.find(g => g.id === id);
            if (!gorev) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editGorevForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ“ GÃ¶rev BaÅŸlÄ±ÄŸÄ±</label>
                            <input type="text" id="editGorevBaslik" value="${gorev.baslik}" required>
                        </div>
                        <div class="form-group">
                            <label>âš ï¸ Aciliyet</label>
                            <select id="editGorevAciliyet" required>
                                <option value="acil" ${gorev.aciliyet === 'acil' ? 'selected' : ''}>ğŸ”´ Acil</option>
                                <option value="normal" ${gorev.aciliyet === 'normal' ? 'selected' : ''}>ğŸ”µ Normal</option>
                                <option value="dusuk" ${gorev.aciliyet === 'dusuk' ? 'selected' : ''}>âšª DÃ¼ÅŸÃ¼k</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ğŸ‘¤ Atanan KiÅŸi</label>
                            <select id="editGorevAtanan">
                                <option value="">Herkes</option>
                                <option value="Esat" ${gorev.atanan === 'Esat' ? 'selected' : ''}>Esat</option>
                                <option value="Ahmet" ${gorev.atanan === 'Ahmet' ? 'selected' : ''}>Ahmet</option>
                                <option value="Emre" ${gorev.atanan === 'Emre' ? 'selected' : ''}>Emre</option>
                                <option value="GÃ¶kay" ${gorev.atanan === 'GÃ¶kay' ? 'selected' : ''}>GÃ¶kay</option>
                                <option value="Berke" ${gorev.atanan === 'Berke' ? 'selected' : ''}>Berke</option>
                                <option value="Melisa" ${gorev.atanan === 'Melisa' ? 'selected' : ''}>Melisa</option>
                                <option value="Evrim" ${gorev.atanan === 'Evrim' ? 'selected' : ''}>Evrim</option>
                                <option value="Koray" ${gorev.atanan === 'Koray' ? 'selected' : ''}>Koray</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“„ AÃ§Ä±klama</label>
                            <textarea id="editGorevAciklama" rows="3">${gorev.aciklama || ''}</textarea>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editGorevForm').addEventListener('submit', function(e) {
                e.preventDefault();
                gorev.baslik = document.getElementById('editGorevBaslik').value.trim();
                gorev.aciliyet = document.getElementById('editGorevAciliyet').value;
                gorev.atanan = document.getElementById('editGorevAtanan').value;
                gorev.aciklama = document.getElementById('editGorevAciklama').value.trim();
                
                localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
                loadGorevlerListesi();
                modal.style.display = 'none';
                showAlert('gorevAlert', 'GÃ¶rev baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function siralaGorevler(tip) {
            if (tip === 'aciliyet') {
                const aciliyetSirasi = { 'acil': 1, 'normal': 2, 'dusuk': 3 };
                gorevKayitlari.sort((a, b) => aciliyetSirasi[a.aciliyet] - aciliyetSirasi[b.aciliyet]);
            } else if (tip === 'tarih') {
                gorevKayitlari.sort((a, b) => new Date(b.olusturmaTarihi) - new Date(a.olusturmaTarihi));
            }
            localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
            loadGorevlerListesi();
        }

        function tamamlananGizle() {
            tamamlananlariGoster = !tamamlananlariGoster;
            loadGorevlerListesi();
        }

        // Drag and Drop iÃ§in fonksiyonlar
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.id);
            e.target.style.opacity = '0.5';
        }

        function dragOver(e) {
            e.preventDefault();
        }

        function drop(e) {
            e.preventDefault();
            const draggedId = parseInt(e.dataTransfer.getData('text/plain'));
            const targetElement = e.target.closest('.gorev-item');
            if (!targetElement) return;
            
            const targetId = parseInt(targetElement.dataset.id);
            if (draggedId === targetId) return;

            const draggedIndex = gorevKayitlari.findIndex(g => g.id === draggedId);
            const targetIndex = gorevKayitlari.findIndex(g => g.id === targetId);
            
            const [draggedItem] = gorevKayitlari.splice(draggedIndex, 1);
            gorevKayitlari.splice(targetIndex, 0, draggedItem);
            
            localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
            loadGorevlerListesi();
            
            document.querySelectorAll('.gorev-item').forEach(item => item.style.opacity = '1');
        }

        // ==================== ÃœRÃœN SÄ°PARÄ°ÅLERÄ° FONKSÄ°YONLARI ====================
        function urunSiparisEkle(e) {
            e.preventDefault();
            
            const siparisData = {
                id: Date.now(),
                urunAdi: document.getElementById('siparisUrunAdi').value.trim(),
                adetMiktar: document.getElementById('siparisAdetMiktar').value.trim(),
                olcu: document.getElementById('siparisOlcu').value.trim(),
                aciklama: document.getElementById('siparisAciklama').value.trim(),
                talepEden: document.getElementById('siparisTalipEden').value,
                durum: 'bekleniyor',
                olusturmaTarihi: new Date().toISOString(),
                gelenAdet: '',
                gelenNotlar: ''
            };

            urunSiparisKayitlari.push(siparisData);
            localStorage.setItem('urunSiparisKayitlari', JSON.stringify(urunSiparisKayitlari));
            
            document.getElementById('urunSiparisForm').reset();
            loadUrunSiparislerListesi();
            showAlert('siparisAlert', 'SipariÅŸ baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadUrunSiparislerListesi(filtre = 'hepsi') {
            const container = document.getElementById('urunSiparislerListesi');
            if (!container) return;

            let filtrelenmissiparisler = urunSiparisKayitlari;
            if (filtre !== 'hepsi') {
                filtrelenmissiparisler = urunSiparisKayitlari.filter(s => s.durum === filtre);
            }

            if (filtrelenmissiparisler.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z sipariÅŸ bulunmuyor.</p>';
                return;
            }

            let html = '<div style="margin-top: 20px;">';
            filtrelenmissiparisler.slice().reverse().forEach(siparis => {
                const durumText = siparis.durum === 'bekleniyor' ? 'Bekleniyor' : 
                                  siparis.durum === 'geldi' ? 'Geldi' : 'Ä°ptal';
                
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ“¦ ${siparis.urunAdi}</strong></div>
                            <div style="display: flex; gap: 10px; align-items: center;">
                                <span class="durum-badge ${siparis.durum}">${durumText}</span>
                                <button class="btn-edit" onclick="urunSiparisDuzenle(${siparis.id})">âœï¸</button>
                                <button class="btn-delete" onclick="urunSiparisSil(${siparis.id})">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“Š Adet/Miktar:</strong> ${siparis.adetMiktar}</div>
                            ${siparis.olcu ? `<div><strong>ğŸ“ Ã–lÃ§Ã¼:</strong> ${siparis.olcu}</div>` : ''}
                            <div><strong>ğŸ‘¤ Talep Eden:</strong> ${siparis.talepEden}</div>
                            <div><strong>ğŸ“… Tarih:</strong> ${new Date(siparis.olusturmaTarihi).toLocaleString('tr-TR')}</div>
                            ${siparis.aciklama ? `<div style="grid-column: 1/-1;"><strong>ğŸ“ AÃ§Ä±klama:</strong> ${siparis.aciklama}</div>` : ''}
                            ${siparis.gelenAdet ? `<div><strong>âœ… Gelen Adet:</strong> ${siparis.gelenAdet}</div>` : ''}
                            ${siparis.gelenNotlar ? `<div style="grid-column: 1/-1;"><strong>ğŸ“Œ Notlar:</strong> ${siparis.gelenNotlar}</div>` : ''}
                        </div>
                        ${siparis.durum === 'bekleniyor' ? `
                            <div style="margin-top: 15px; display: flex; gap: 10px;">
                                <button class="btn btn-success" onclick="siparisGeldi(${siparis.id})">âœ… Geldi Olarak Ä°ÅŸaretle</button>
                                <button class="btn btn-danger" onclick="siparisIptal(${siparis.id})">âŒ Ä°ptal Et</button>
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        function siparisGeldi(id) {
            const siparis = urunSiparisKayitlari.find(s => s.id === id);
            if (!siparis) return;

            const gelenAdet = prompt('Gelen adet/miktarÄ± girin:', siparis.adetMiktar);
            if (gelenAdet === null) return;

            const notlar = prompt('Not eklemek ister misiniz?', '');

            siparis.durum = 'geldi';
            siparis.gelenAdet = gelenAdet;
            siparis.gelenNotlar = notlar || '';
            siparis.gelisTarihi = new Date().toISOString();

            localStorage.setItem('urunSiparisKayitlari', JSON.stringify(urunSiparisKayitlari));
            loadUrunSiparislerListesi();
            showAlert('siparisAlert', 'SipariÅŸ "Geldi" olarak iÅŸaretlendi!', 'success');
        }

        function siparisIptal(id) {
            const siparis = urunSiparisKayitlari.find(s => s.id === id);
            if (siparis && confirm('Bu sipariÅŸi iptal etmek istediÄŸinizden emin misiniz?')) {
                siparis.durum = 'iptal';
                localStorage.setItem('urunSiparisKayitlari', JSON.stringify(urunSiparisKayitlari));
                loadUrunSiparislerListesi();
                showAlert('siparisAlert', 'SipariÅŸ iptal edildi!', 'success');
            }
        }

        function urunSiparisDuzenle(id) {
            const siparis = urunSiparisKayitlari.find(s => s.id === id);
            if (!siparis) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editUrunSiparisForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n AdÄ±</label>
                            <input type="text" id="editSiparisUrunAdi" value="${siparis.urunAdi}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š Adet/Miktar</label>
                            <input type="text" id="editSiparisAdetMiktar" value="${siparis.adetMiktar}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“ Ã–lÃ§Ã¼</label>
                            <input type="text" id="editSiparisOlcu" value="${siparis.olcu || ''}">
                        </div>
                        <div class="form-group">
                            <label>ğŸ“ AÃ§Ä±klama</label>
                            <textarea id="editSiparisAciklama" rows="3">${siparis.aciklama || ''}</textarea>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š Durum</label>
                            <select id="editSiparisDurum">
                                <option value="bekleniyor" ${siparis.durum === 'bekleniyor' ? 'selected' : ''}>Bekleniyor</option>
                                <option value="geldi" ${siparis.durum === 'geldi' ? 'selected' : ''}>Geldi</option>
                                <option value="iptal" ${siparis.durum === 'iptal' ? 'selected' : ''}>Ä°ptal</option>
                            </select>
                        </div>
                        ${siparis.durum === 'geldi' ? `
                            <div class="form-group">
                                <label>âœ… Gelen Adet</label>
                                <input type="text" id="editSiparisGelenAdet" value="${siparis.gelenAdet || ''}">
                            </div>
                            <div class="form-group">
                                <label>ğŸ“Œ Notlar</label>
                                <textarea id="editSiparisGelenNotlar" rows="2">${siparis.gelenNotlar || ''}</textarea>
                            </div>
                        ` : ''}
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editUrunSiparisForm').addEventListener('submit', function(e) {
                e.preventDefault();
                siparis.urunAdi = document.getElementById('editSiparisUrunAdi').value.trim();
                siparis.adetMiktar = document.getElementById('editSiparisAdetMiktar').value.trim();
                siparis.olcu = document.getElementById('editSiparisOlcu').value.trim();
                siparis.aciklama = document.getElementById('editSiparisAciklama').value.trim();
                siparis.durum = document.getElementById('editSiparisDurum').value;
                
                if (siparis.durum === 'geldi') {
                    const gelenAdetEl = document.getElementById('editSiparisGelenAdet');
                    const gelenNotlarEl = document.getElementById('editSiparisGelenNotlar');
                    if (gelenAdetEl) siparis.gelenAdet = gelenAdetEl.value.trim();
                    if (gelenNotlarEl) siparis.gelenNotlar = gelenNotlarEl.value.trim();
                }
                
                localStorage.setItem('urunSiparisKayitlari', JSON.stringify(urunSiparisKayitlari));
                loadUrunSiparislerListesi();
                modal.style.display = 'none';
                showAlert('siparisAlert', 'SipariÅŸ baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function urunSiparisSil(id) {
            if (confirm('Bu sipariÅŸi silmek istediÄŸinizden emin misiniz?')) {
                urunSiparisKayitlari = urunSiparisKayitlari.filter(s => s.id !== id);
                localStorage.setItem('urunSiparisKayitlari', JSON.stringify(urunSiparisKayitlari));
                loadUrunSiparislerListesi();
                showAlert('siparisAlert', 'SipariÅŸ silindi!', 'success');
            }
        }

        function filtreSiparisler(durum) {
            loadUrunSiparislerListesi(durum);
        }

        // ==================== TEMÄ°ZLEMEDEN GELEN ÃœRÃœNLER ====================
        function temizGelEkle(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now(),
                siparisNo: document.getElementById('temizGelSiparisNo').value.trim(),
                urunKodu: document.getElementById('temizGelUrunKodu').value.trim(),
                siparisAdet: parseInt(document.getElementById('temizGelSiparisAdet').value) || 0,
                brutAgirlik: parseFloat(document.getElementById('temizGelBrutAgirlik').value) || 0,
                netAgirlik: parseFloat(document.getElementById('temizGelNetAgirlik').value) || 0,
                donenAdet: parseInt(document.getElementById('temizGelDonenAdet').value) || 0,
                fabrikadaKalan: parseInt(document.getElementById('temizGelFabrikadaKalan').value) || 0,
                birimAgirlikOncesi: parseFloat(document.getElementById('temizGelBirimAgirlikOncesi').value) || 0,
                birimAgirlikSonrasi: parseFloat(document.getElementById('temizGelBirimAgirlikSonrasi').value) || 0,
                temizlemeKaybi: parseFloat(document.getElementById('temizGelTemizlemeKaybi').value) || 0,
                toplamMevcutAdet: parseInt(document.getElementById('temizGelToplamMevcutAdet').value) || 0,
                ekleyen: document.getElementById('temizGelEkleyen').value,
                tarih: new Date().toISOString()
            };

            temizGelKayitlari.push(formData);
            localStorage.setItem('temizGelKayitlari', JSON.stringify(temizGelKayitlari));
            
            document.getElementById('temizGelForm').reset();
            loadTemizGelKayitlari();
            showAlert('temizGelAlert', 'Temizlemeden gelen kayÄ±t baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadTemizGelKayitlari() {
            const container = document.getElementById('temizGelKayitlari');
            if (!container) return;

            if (temizGelKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z temizlemeden gelen kayÄ±t bulunmuyor.</p>';
                return;
            }

            let html = '';
            temizGelKayitlari.slice().reverse().forEach(kayit => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ”¢ ${kayit.siparisNo} - ğŸ“¦ ${kayit.urunKodu}</strong></div>
                            <div>
                                <button class="btn-edit" onclick="temizGelEdit(${kayit.id})">âœï¸</button>
                                <button class="btn-delete" onclick="temizGelSil(${kayit.id})" style="margin-left: 5px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“Š SipariÅŸ Adeti:</strong> ${kayit.siparisAdet}</div>
                            <div><strong>âš–ï¸ BrÃ¼t AÄŸÄ±rlÄ±k:</strong> ${kayit.brutAgirlik} kg</div>
                            <div><strong>âš–ï¸ Net AÄŸÄ±rlÄ±k:</strong> ${kayit.netAgirlik} kg</div>
                            <div><strong>â†©ï¸ DÃ¶nen Adet:</strong> ${kayit.donenAdet}</div>
                            <div><strong>ğŸ­ Fabrikada Kalan:</strong> ${kayit.fabrikadaKalan}</div>
                            <div><strong>âš–ï¸ Birim AÄŸÄ±rlÄ±k (Ã–):</strong> ${kayit.birimAgirlikOncesi} kg</div>
                            <div><strong>âš–ï¸ Birim AÄŸÄ±rlÄ±k (S):</strong> ${kayit.birimAgirlikSonrasi} kg</div>
                            <div><strong>ğŸ“‰ Temizleme KaybÄ±:</strong> ${kayit.temizlemeKaybi} kg</div>
                            <div><strong>ğŸ“¦ Toplam Mevcut:</strong> ${kayit.toplamMevcutAdet}</div>
                            <div><strong>ğŸ‘¤ Ekleyen:</strong> ${kayit.ekleyen}</div>
                            <div><strong>ğŸ“… Tarih:</strong> ${new Date(kayit.tarih).toLocaleString('tr-TR')}</div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function temizGelEdit(id) {
            const kayit = temizGelKayitlari.find(k => k.id === id);
            if (!kayit) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editTemizGelForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ”¢ SipariÅŸ No</label>
                            <input type="text" id="editTemizGelSiparisNo" value="${kayit.siparisNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n Kodu</label>
                            <input type="text" id="editTemizGelUrunKodu" value="${kayit.urunKodu}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š SipariÅŸ Adeti</label>
                            <input type="number" id="editTemizGelSiparisAdet" value="${kayit.siparisAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>âš–ï¸ BrÃ¼t AÄŸÄ±rlÄ±k</label>
                            <input type="number" id="editTemizGelBrutAgirlik" value="${kayit.brutAgirlik}" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>âš–ï¸ Net AÄŸÄ±rlÄ±k</label>
                            <input type="number" id="editTemizGelNetAgirlik" value="${kayit.netAgirlik}" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>â†©ï¸ DÃ¶nen Adet</label>
                            <input type="number" id="editTemizGelDonenAdet" value="${kayit.donenAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ­ Fabrikada Kalan</label>
                            <input type="number" id="editTemizGelFabrikadaKalan" value="${kayit.fabrikadaKalan}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>âš–ï¸ Birim AÄŸÄ±rlÄ±k (Ã–ncesi)</label>
                            <input type="number" id="editTemizGelBirimAgirlikOncesi" value="${kayit.birimAgirlikOncesi}" step="0.001" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>âš–ï¸ Birim AÄŸÄ±rlÄ±k (SonrasÄ±)</label>
                            <input type="number" id="editTemizGelBirimAgirlikSonrasi" value="${kayit.birimAgirlikSonrasi}" step="0.001" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“‰ Temizleme KaybÄ±</label>
                            <input type="number" id="editTemizGelTemizlemeKaybi" value="${kayit.temizlemeKaybi}" step="0.01" min="0">
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ Toplam Mevcut Adet</label>
                            <input type="number" id="editTemizGelToplamMevcutAdet" value="${kayit.toplamMevcutAdet}" min="0">
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editTemizGelForm').addEventListener('submit', function(e) {
                e.preventDefault();
                kayit.siparisNo = document.getElementById('editTemizGelSiparisNo').value.trim();
                kayit.urunKodu = document.getElementById('editTemizGelUrunKodu').value.trim();
                kayit.siparisAdet = parseInt(document.getElementById('editTemizGelSiparisAdet').value) || 0;
                kayit.brutAgirlik = parseFloat(document.getElementById('editTemizGelBrutAgirlik').value) || 0;
                kayit.netAgirlik = parseFloat(document.getElementById('editTemizGelNetAgirlik').value) || 0;
                kayit.donenAdet = parseInt(document.getElementById('editTemizGelDonenAdet').value) || 0;
                kayit.fabrikadaKalan = parseInt(document.getElementById('editTemizGelFabrikadaKalan').value) || 0;
                kayit.birimAgirlikOncesi = parseFloat(document.getElementById('editTemizGelBirimAgirlikOncesi').value) || 0;
                kayit.birimAgirlikSonrasi = parseFloat(document.getElementById('editTemizGelBirimAgirlikSonrasi').value) || 0;
                kayit.temizlemeKaybi = parseFloat(document.getElementById('editTemizGelTemizlemeKaybi').value) || 0;
                kayit.toplamMevcutAdet = parseInt(document.getElementById('editTemizGelToplamMevcutAdet').value) || 0;
                kayit.guncellemeTarihi = new Date().toISOString();
                
                localStorage.setItem('temizGelKayitlari', JSON.stringify(temizGelKayitlari));
                loadTemizGelKayitlari();
                modal.style.display = 'none';
                showAlert('temizGelAlert', 'Temizlemeden gelen kayÄ±t baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function temizGelSil(id) {
            if (confirm('Bu temizlemeden gelen kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                temizGelKayitlari = temizGelKayitlari.filter(k => k.id !== id);
                localStorage.setItem('temizGelKayitlari', JSON.stringify(temizGelKayitlari));
                loadTemizGelKayitlari();
                showAlert('temizGelAlert', 'Temizlemeden gelen kayÄ±t silindi!', 'success');
            }
        }

       
        // ==================== KALÄ°TE KONTROL FONKSÄ°YONLARI ====================
        function kaliteFormSubmit(e) {
            e.preventDefault();
            
            const hatalar = [];
            document.querySelectorAll('.hata-item input[type="checkbox"]:checked').forEach(checkbox => {
                const parent = checkbox.closest('.hata-item');
                const hataAdetInputs = parent.querySelectorAll('.hata-adet');
                const iskartaAdet = parseInt(hataAdetInputs[0].value) || 0;
                const geriGidenAdet = parseInt(hataAdetInputs[1].value) || 0;
                
                if (iskartaAdet > 0 || geriGidenAdet > 0) {
                    let hataTuru = checkbox.value;
                    if (hataTuru === 'DiÄŸer' && document.getElementById('digerHataAciklama').value.trim()) {
                        hataTuru = document.getElementById('digerHataAciklama').value.trim();
                    }
                    
                    hatalar.push({
                        tur: hataTuru,
                        iskartaAdet: iskartaAdet,
                        geriGidenAdet: geriGidenAdet
                    });
                }
            });

            const kaliteData = {
                id: Date.now(),
                tarih: document.getElementById('tarih').value,
                operator: document.getElementById('operator').value,
                urunKodu: document.getElementById('urunKodu').value.trim(),
                toplamAdet: parseInt(document.getElementById('toplamAdet').value),
                siparisNo: document.getElementById('siparisNo').value.trim(),
                hatalar: hatalar
            };

            kaliteKayitlari.push(kaliteData);
            localStorage.setItem('kaliteKayitlari', JSON.stringify(kaliteKayitlari));
            
            document.getElementById('kaliteForm').reset();
            const now = new Date().toISOString().slice(0, 16);
            document.getElementById('tarih').value = now;
            
            loadKaliteKayitlari();
            loadStats();
            loadIstatistikler();
            showAlert('kaliteAlert', 'Kalite kontrol kaydÄ± baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadKaliteKayitlari() {
            const container = document.getElementById('kaliteKayitlariListesi');
            if (!container) return;

            if (kaliteKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z kalite kontrol kaydÄ± bulunmuyor.</p>';
                return;
            }

            const tumHataTurleri = new Set();
            kaliteKayitlari.forEach(kayit => {
                kayit.hatalar.forEach(hata => {
                    tumHataTurleri.add(hata.tur);
                });
            });

            let html = '<div style="overflow-x: auto; background: white; border-radius: 8px; border: 2px solid #e9ecef; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">';
            html += '<table style="width: 100%; border-collapse: collapse; font-size: 14px;">';
            
            html += `
                <thead style="background: linear-gradient(135deg, #3498db, #2980b9); color: white;">
                    <tr>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap;">ğŸ“… Tarih/Saat</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap;">ğŸ‘¤ OperatÃ¶r</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap;">ğŸ“¦ ÃœrÃ¼n Kodu</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap;">ğŸ“Š Toplam Adet</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap;">ğŸ”¢ SipariÅŸ No</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap; background: #e74c3c;">ğŸ—‘ï¸ Toplam Ä°skarta</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap; background: #f39c12;">â†©ï¸ Toplam Geri DÃ¶nen</th>
                        <th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap; background: #e74c3c;">ğŸš« Ä°ÅŸlem</th>
            `;

            Array.from(tumHataTurleri).forEach(hataTuru => {
                html += `<th style="padding: 12px 8px; border: 1px solid #2980b9; text-align: center; white-space: nowrap; background: #8e44ad; font-size: 12px;">ğŸš« ${hataTuru}</th>`;
            });

            html += '</tr></thead><tbody>';

            kaliteKayitlari.slice().reverse().forEach((kayit, index) => {
                const toplamIskarta = kayit.hatalar.reduce((total, hata) => total + hata.iskartaAdet, 0);
                const toplamGeriDonen = kayit.hatalar.reduce((total, hata) => total + hata.geriGidenAdet, 0);

                html += `<tr style="background: ${index % 2 === 0 ? '#f8f9fa' : 'white'}; border-bottom: 1px solid #dee2e6;">`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; white-space: nowrap; font-size: 12px;">${new Date(kayit.tarih).toLocaleString('tr-TR')}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; font-weight: 600;">${kayit.operator}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; font-weight: 600; color: #2c3e50;">${kayit.urunKodu}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; color: #27ae60;">${kayit.toplamAdet}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center;">${kayit.siparisNo}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; color: ${toplamIskarta > 0 ? '#e74c3c' : '#27ae60'}; background: ${toplamIskarta > 0 ? '#fdf2f2' : '#f0f9f0'};">${toplamIskarta}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; font-weight: bold; color: ${toplamGeriDonen > 0 ? '#f39c12' : '#27ae60'}; background: ${toplamGeriDonen > 0 ? '#fef9e7' : '#f0f9f0'};">${toplamGeriDonen}</td>`;
                html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center;"><button onclick="kaliteKaydiSil(${kayit.id})" style="background: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 12px;">ğŸ—‘ï¸ Sil</button></td>`;

                Array.from(tumHataTurleri).forEach(hataTuru => {
                    const hataVeri = kayit.hatalar.find(h => h.tur === hataTuru);
                    if (hataVeri) {
                        const toplamHata = hataVeri.iskartaAdet + hataVeri.geriGidenAdet;
                        html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; font-size: 11px; ${toplamHata > 0 ? 'background: #fff2f2; color: #721c24; font-weight: bold;' : 'color: #666;'}">
                            ${toplamHata > 0 ? `Ä°:${hataVeri.iskartaAdet} G:${hataVeri.geriGidenAdet}` : '-'}
                        </td>`;
                    } else {
                        html += `<td style="padding: 10px 8px; border: 1px solid #dee2e6; text-align: center; color: #999;">-</td>`;
                    }
                });

                html += '</tr>';
            });

            html += '</tbody></table></div>';

            const toplamKayit = kaliteKayitlari.length;
            const genelToplamIskarta = kaliteKayitlari.reduce((total, kayit) => 
                total + kayit.hatalar.reduce((hataTotal, hata) => hataTotal + hata.iskartaAdet, 0), 0);
            const genelToplamGeriDonen = kaliteKayitlari.reduce((total, kayit) => 
                total + kayit.hatalar.reduce((hataTotal, hata) => hataTotal + hata.geriGidenAdet, 0), 0);
            const genelToplamUretim = kaliteKayitlari.reduce((total, kayit) => total + kayit.toplamAdet, 0);

            html += `
                <div style="margin-top: 15px; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; color: white;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; text-align: center;">
                        <div><strong style="font-size: 1.2em;">${toplamKayit}</strong><br><small>Toplam KayÄ±t</small></div>
                        <div><strong style="font-size: 1.2em;">${genelToplamUretim}</strong><br><small>Toplam Ãœretim</small></div>
                        <div><strong style="font-size: 1.2em; color: #ffcccb;">${genelToplamIskarta}</strong><br><small>Toplam Ä°skarta</small></div>
                        <div><strong style="font-size: 1.2em; color: #ffe4b5;">${genelToplamGeriDonen}</strong><br><small>Toplam Geri DÃ¶nen</small></div>
                        <div><strong style="font-size: 1.2em; color: #90ee90;">${genelToplamUretim > 0 ? Math.round((1 - (genelToplamIskarta + genelToplamGeriDonen)/genelToplamUretim) * 100) : 0}%</strong><br><small>BaÅŸarÄ± OranÄ±</small></div>
                    </div>
                </div>
            `;

            container.innerHTML = html;
        }

        function kaliteKaydiSil(id) {
            if (confirm('Bu kalite kontrol kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                kaliteKayitlari = kaliteKayitlari.filter(k => k.id !== id);
                localStorage.setItem('kaliteKayitlari', JSON.stringify(kaliteKayitlari));
                loadKaliteKayitlari();
                loadStats();
                showAlert('kaliteAlert', 'Kalite kontrol kaydÄ± silindi!', 'success');
            }
        }

        // ==================== SÄ°PARÄ°Å HAZIRLIK (NOTLAR EKLENDÄ°) ====================
        function siparisEkle(e) {
            e.preventDefault();
            
            const siparisData = {
                id: Date.now(),
                tarih: document.getElementById('hazirlikTarih').value,
                operator: document.getElementById('hazirlikOperator').value,
                siparisNo: document.getElementById('hazirlikSiparisNo').value.trim(),
                urunKodu: document.getElementById('urunKoduSiparis').value.trim(),
                siparisAdet: parseInt(document.getElementById('siparisAdet').value),
                notlar: document.getElementById('siparisNotlar').value.trim(),
                durum: 'beklemede',
                olusturmaTarihi: new Date().toISOString()
            };

            siparisHazirlikKayitlari.push(siparisData);
            localStorage.setItem('siparisHazirlikKayitlari', JSON.stringify(siparisHazirlikKayitlari));
            
            document.getElementById('siparisEkleForm').reset();
            const today = new Date().toISOString().slice(0, 10);
            document.getElementById('hazirlikTarih').value = today;
            
            loadSiparislerListesi();
            loadStats();
            showAlert('siparisEkleAlert', 'SipariÅŸ baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadSiparislerListesi() {
            const container = document.getElementById('siparislerListesi');
            if (!container) return;

            if (siparisHazirlikKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z sipariÅŸ bulunmuyor.</p>';
                return;
            }

            let html = '';
            siparisHazirlikKayitlari.slice().reverse().forEach(siparis => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ”¢ ${siparis.siparisNo} - ğŸ“¦ ${siparis.urunKodu}</strong></div>
                            <div>
                                <button class="btn-edit" onclick="siparisEdit(${siparis.id})">âœï¸</button>
                                <button class="btn-delete" onclick="siparisSil(${siparis.id})" style="margin-left: 5px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“… Tarih:</strong> ${new Date(siparis.tarih).toLocaleDateString('tr-TR')}</div>
                            <div><strong>ğŸ‘¤ OperatÃ¶r:</strong> ${siparis.operator}</div>
                            <div><strong>ğŸ“Š SipariÅŸ Adedi:</strong> ${siparis.siparisAdet}</div>
                            <div><strong>ğŸ“Š Durum:</strong> ${siparis.durum === 'tamamlandi' ? 'âœ… TamamlandÄ±' : 'â³ Beklemede'}</div>
                            ${siparis.notlar ? `<div style="grid-column: 1/-1;"><strong>ğŸ“ Notlar:</strong> ${siparis.notlar}</div>` : ''}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function siparisEdit(id) {
            const siparis = siparisHazirlikKayitlari.find(s => s.id === id);
            if (!siparis) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editSiparisForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ“… Tarih</label>
                            <input type="date" id="editHazirlikTarih" value="${siparis.tarih}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ‘¤ OperatÃ¶r</label>
                            <select id="editHazirlikOperator" required>
                                <option value="Esat" ${siparis.operator === 'Esat' ? 'selected' : ''}>Esat</option>
                                <option value="Ahmet" ${siparis.operator === 'Ahmet' ? 'selected' : ''}>Ahmet</option>
                                <option value="Emre" ${siparis.operator === 'Emre' ? 'selected' : ''}>Emre</option>
                                <option value="GÃ¶kay" ${siparis.operator === 'GÃ¶kay' ? 'selected' : ''}>GÃ¶kay</option>
                                <option value="Berke" ${siparis.operator === 'Berke' ? 'selected' : ''}>Berke</option>
                                <option value="Melisa" ${siparis.operator === 'Melisa' ? 'selected' : ''}>Melisa</option>
                                <option value="Evrim" ${siparis.operator === 'Evrim' ? 'selected' : ''}>Evrim</option>
                                <option value="Koray" ${siparis.operator === 'Koray' ? 'selected' : ''}>Koray</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ğŸ”¢ SipariÅŸ No</label>
                            <input type="text" id="editHazirlikSiparisNo" value="${siparis.siparisNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n Kodu</label>
                            <input type="text" id="editUrunKoduSiparis" value="${siparis.urunKodu}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š SipariÅŸ Adedi</label>
                            <input type="number" id="editSiparisAdet" value="${siparis.siparisAdet}" min="1" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“ Notlar</label>
                            <textarea id="editSiparisNotlar" rows="3">${siparis.notlar || ''}</textarea>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š Durum</label>
                            <select id="editSiparisDurumu">
                                <option value="beklemede" ${siparis.durum === 'beklemede' ? 'selected' : ''}>Beklemede</option>
                                <option value="tamamlandi" ${siparis.durum === 'tamamlandi' ? 'selected' : ''}>TamamlandÄ±</option>
                            </select>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editSiparisForm').addEventListener('submit', function(e) {
                e.preventDefault();
                siparis.tarih = document.getElementById('editHazirlikTarih').value;
                siparis.operator = document.getElementById('editHazirlikOperator').value;
                siparis.siparisNo = document.getElementById('editHazirlikSiparisNo').value.trim();
                siparis.urunKodu = document.getElementById('editUrunKoduSiparis').value.trim();
                siparis.siparisAdet = parseInt(document.getElementById('editSiparisAdet').value);
                siparis.notlar = document.getElementById('editSiparisNotlar').value.trim();
                siparis.durum = document.getElementById('editSiparisDurumu').value;
                siparis.guncellemeTarihi = new Date().toISOString();
                
                localStorage.setItem('siparisHazirlikKayitlari', JSON.stringify(siparisHazirlikKayitlari));
                loadSiparislerListesi();
                modal.style.display = 'none';
                showAlert('siparisEkleAlert', 'SipariÅŸ baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function siparisSil(id) {
            if (confirm('Bu sipariÅŸi silmek istediÄŸinizden emin misiniz?')) {
                siparisHazirlikKayitlari = siparisHazirlikKayitlari.filter(s => s.id !== id);
                localStorage.setItem('siparisHazirlikKayitlari', JSON.stringify(siparisHazirlikKayitlari));
                loadSiparislerListesi();
                loadStats();
                showAlert('siparisEkleAlert', 'SipariÅŸ silindi!', 'success');
            }
        }

        // ==================== STOK YÃ–NETÄ°MÄ° (Eksi deÄŸer ve kullanÄ±lan adet) ====================
        function stokEkleGuncelle(e) {
            if (e) e.preventDefault();
            
            const malzemeTuru = document.getElementById('stokMalzemeTuru').value;
            const urunAdi = document.getElementById('stokUrunAdi').value.trim();
            const olculeri = document.getElementById('stokOlculeri').value.trim();
            const mevcutAdet = parseInt(document.getElementById('stokMevcut').value); // min kaldÄ±rÄ±ldÄ±, negatif olabilir
            const ekleyen = document.getElementById('stokEkleyen').value;

            if (!malzemeTuru || !urunAdi || !ekleyen || isNaN(mevcutAdet)) {
                showAlert('stokAlert', 'LÃ¼tfen tÃ¼m gerekli alanlarÄ± doldurunuz!', 'error');
                return;
            }

            const existingIndex = stokKayitlari.findIndex(stok => 
                stok.malzemeTuru === malzemeTuru && 
                stok.urunAdi.toLowerCase() === urunAdi.toLowerCase() && 
                stok.olculeri === olculeri
            );

            const yeniStok = {
                id: existingIndex !== -1 ? stokKayitlari[existingIndex].id : Date.now(),
                malzemeTuru: malzemeTuru,
                urunAdi: urunAdi,
                olculeri: olculeri,
                mevcutAdet: mevcutAdet,
                ekleyen: ekleyen,
                sonGuncelleme: new Date().toISOString()
            };

            if (existingIndex !== -1) {
                stokKayitlari[existingIndex] = yeniStok;
                showAlert('stokAlert', 'Stok baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            } else {
                stokKayitlari.push(yeniStok);
                showAlert('stokAlert', 'Stok baÅŸarÄ±yla eklendi!', 'success');
            }

            localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
            loadStokListesi();
            tumStoklariOzetGoster();
            temizleStokFormu();
        }

        function loadStokListesi() {
            const container = document.getElementById('stokListesi');
            if (!container) return;

            if (stokKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z stok kaydÄ± bulunmuyor.</p>';
                return;
            }

            let html = '';
            stokKayitlari.forEach(stok => {
                html += `
                    <div class="stok-kayit-item">
                        <div class="stok-header">
                            <h4>ğŸ“¦ ${stok.urunAdi}</h4>
                            <span style="background: #3498db; color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">
                                ${stok.malzemeTuru.toUpperCase()}
                            </span>
                        </div>
                        <div class="stok-bilgi">
                            <div class="stok-bilgi-item">
                                <span><strong>ğŸ“ Ã–lÃ§Ã¼ler:</strong></span>
                                <span>${stok.olculeri || 'BelirtilmemiÅŸ'}</span>
                            </div>
                            <div class="stok-bilgi-item">
                                <span><strong>ğŸ“Š Mevcut Adet:</strong></span>
                                <span style="font-weight: bold; color: ${stok.mevcutAdet > 0 ? '#27ae60' : stok.mevcutAdet < 0 ? '#e74c3c' : '#f39c12'};">
                                    ${stok.mevcutAdet}
                                </span>
                            </div>
                            <div class="stok-bilgi-item">
                                <span><strong>ğŸ‘¤ Ekleyen:</strong></span>
                                <span>${stok.ekleyen}</span>
                            </div>
                            <div class="stok-bilgi-item">
                                <span><strong>ğŸ•’ Son GÃ¼ncelleme:</strong></span>
                                <span>${new Date(stok.sonGuncelleme).toLocaleString('tr-TR')}</span>
                            </div>
                        </div>
                        <div class="stok-kontrol">
                            <button class="stok-btn-small minus" onclick="stokAzalt(${stok.id})">-</button>
                            <div class="stok-adet-display">${stok.mevcutAdet}</div>
                            <button class="stok-btn-small" onclick="stokArttir(${stok.id})">+</button>
                            <input type="number" class="stok-adet-input" id="adet-${stok.id}" placeholder="Adet">
                            <button class="btn" style="margin-left: 10px; padding: 5px 10px;" onclick="stokGuncelle(${stok.id})">GÃ¼ncelle</button>
                        </div>
                        <div style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 6px;">
                            <label style="font-weight: 600; display: block; margin-bottom: 5px;">ğŸ“‰ KullanÄ±lan Adet:</label>
                            <div style="display: flex; gap: 5px;">
                                <input type="number" class="stok-adet-input" id="kullanilan-${stok.id}" placeholder="KullanÄ±lan adet" min="0">
                                <button class="btn btn-success" onclick="stokKullan(${stok.id})" style="padding: 5px 15px;">Kullan</button>
                            </div>
                        </div>
                        <div class="stok-actions">
                            <button class="btn-edit" onclick="stokDuzenle(${stok.id})">âœï¸ DÃ¼zenle</button>
                            <button class="btn-delete" onclick="stokSil(${stok.id})">ğŸ—‘ï¸ Sil</button>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function stokKullan(id) {
            const input = document.getElementById(`kullanilan-${id}`);
            const kullanilanAdet = parseInt(input.value);
            
            if (isNaN(kullanilanAdet) || kullanilanAdet <= 0) {
                alert('LÃ¼tfen geÃ§erli bir adet giriniz!');
                return;
            }

            const stok = stokKayitlari.find(s => s.id === id);
            if (stok) {
                stok.mevcutAdet -= kullanilanAdet;
                stok.sonGuncelleme = new Date().toISOString();
                localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                loadStokListesi();
                tumStoklariOzetGoster();
                input.value = '';
                showAlert('stokAlert', `${kullanilanAdet} adet kullanÄ±ldÄ±. Yeni stok: ${stok.mevcutAdet}`, 'success');
            }
        }

        function stokArttir(id) {
            const stok = stokKayitlari.find(s => s.id === id);
            if (stok) {
                stok.mevcutAdet++;
                stok.sonGuncelleme = new Date().toISOString();
                localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                loadStokListesi();
                tumStoklariOzetGoster();
            }
        }

        function stokAzalt(id) {
            const stok = stokKayitlari.find(s => s.id === id);
            if (stok) {
                stok.mevcutAdet--;
                stok.sonGuncelleme = new Date().toISOString();
                localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                loadStokListesi();
                tumStoklariOzetGoster();
            }
        }

        function stokGuncelle(id) {
            const input = document.getElementById(`adet-${id}`);
            const yeniAdet = parseInt(input.value);
            
            if (isNaN(yeniAdet)) {
                alert('LÃ¼tfen geÃ§erli bir adet giriniz!');
                return;
            }

            const stok = stokKayitlari.find(s => s.id === id);
            if (stok) {
                stok.mevcutAdet = yeniAdet;
                stok.sonGuncelleme = new Date().toISOString();
                localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                loadStokListesi();
                tumStoklariOzetGoster();
                showAlert('stokAlert', 'Stok baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            }
        }

        function stokDuzenle(id) {
            const stok = stokKayitlari.find(s => s.id === id);
            if (stok) {
                document.getElementById('stokMalzemeTuru').value = stok.malzemeTuru;
                document.getElementById('stokUrunAdi').value = stok.urunAdi;
                document.getElementById('stokOlculeri').value = stok.olculeri;
                document.getElementById('stokMevcut').value = stok.mevcutAdet;
                document.getElementById('stokEkleyen').value = stok.ekleyen;
                document.getElementById('stokForm').scrollIntoView({ behavior: 'smooth' });
            }
        }

        function stokSil(id) {
            if (confirm('Bu stok kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                stokKayitlari = stokKayitlari.filter(s => s.id !== id);
                localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                loadStokListesi();
                tumStoklariOzetGoster();
                showAlert('stokAlert', 'Stok kaydÄ± silindi!', 'success');
            }
        }

        function temizleStokFormu() {
            document.getElementById('stokForm').reset();
        }

        function tumStoklariYukle() {
            loadStokListesi();
            tumStoklariOzetGoster();
            showAlert('stokAlert', 'Stoklar yenilendi!', 'success');
        }

        function tumStoklariSifirla() {
            if (confirm('TÃ¼m stok kayÄ±tlarÄ±nÄ± silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz!')) {
                stokKayitlari = [];
                localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                loadStokListesi();
                tumStoklariOzetGoster();
                showAlert('stokAlert', 'TÃ¼m stok kayÄ±tlarÄ± silindi!', 'success');
            }
        }

        function tumStoklariOzetGoster() {
            const container = document.getElementById('stokOzeti');
            if (!container) return;

            if (stokKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">HenÃ¼z stok kaydÄ± bulunmuyor.</p>';
                return;
            }

            const stokGruplari = {};
            stokKayitlari.forEach(stok => {
                if (!stokGruplari[stok.malzemeTuru]) {
                    stokGruplari[stok.malzemeTuru] = [];
                }
                stokGruplari[stok.malzemeTuru].push(stok);
            });

            let html = '';
            Object.keys(stokGruplari).forEach(tur => {
                const turStoklar = stokGruplari[tur];
                const toplamAdet = turStoklar.reduce((total, stok) => total + stok.mevcutAdet, 0);
                
                html += `
                    <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 2px solid #e9ecef;">
                        <h4 style="color: #2c3e50; margin-bottom: 10px; text-transform: uppercase; background: #3498db; color: white; padding: 8px; border-radius: 4px; text-align: center;">
                            ğŸ“¦ ${tur} (Toplam: ${toplamAdet} adet)
                        </h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                `;
                
                turStoklar.forEach(stok => {
                    html += `
                        <div style="display: flex; justify-content: space-between; padding: 8px; background: #f8f9fa; border-radius: 4px; border-left: 4px solid ${stok.mevcutAdet > 0 ? '#27ae60' : stok.mevcutAdet < 0 ? '#e74c3c' : '#f39c12'};">
                            <span style="font-weight: 600;">${stok.urunAdi}</span>
                            <span style="font-weight: bold; color: ${stok.mevcutAdet > 0 ? '#27ae60' : stok.mevcutAdet < 0 ? '#e74c3c' : '#f39c12'};">${stok.mevcutAdet}</span>
                        </div>
                    `;
                });
                
                html += '</div></div>';
            });
            
            container.innerHTML = html;
        }

        // ==================== TEMÄ°ZLEME KAYITLARI ====================
        function temizlemeEkle(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now(),
                siparisNo: document.getElementById('temizlemeSiparisNo').value.trim(),
                urunKodu: document.getElementById('temizlemeUrunKodu').value.trim(),
                siparisAdet: parseInt(document.getElementById('temizlemeSiparisAdet').value) || 0,
                gelenAdet: parseInt(document.getElementById('temizlemeGelenAdet').value) || 0,
                adetKg: parseFloat(document.getElementById('temizlemeAdetKg').value) || 0,
                toplamKg: parseFloat(document.getElementById('temizlemeToplamKg').value) || 0,
                ekleyen: document.getElementById('temizlemeEkleyen').value,
                tarih: new Date().toISOString()
            };

            temizlemeKayitlari.push(formData);
            localStorage.setItem('temizlemeKayitlari', JSON.stringify(temizlemeKayitlari));
            
            document.getElementById('temizlemeForm').reset();
            loadTemizlemeKayitlari();
            showAlert('temizlemeAlert', 'Temizleme kaydÄ± baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadTemizlemeKayitlari() {
            const container = document.getElementById('temizlemeKayitlari');
            if (!container) return;

            if (temizlemeKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z temizleme kaydÄ± bulunmuyor.</p>';
                return;
            }

            let html = '';
            temizlemeKayitlari.slice().reverse().forEach(kayit => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ”¢ ${kayit.siparisNo} - ğŸ“¦ ${kayit.urunKodu}</strong></div>
                            <div>
                                <button class="btn-edit" onclick="temizlemeEdit(${kayit.id})">âœï¸</button>
                                <button class="btn-delete" onclick="temizlemeSil(${kayit.id})" style="margin-left: 5px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“Š SipariÅŸ Adeti:</strong> ${kayit.siparisAdet}</div>
                            <div><strong>ğŸ“¦ Gelen Adet:</strong> ${kayit.gelenAdet}</div>
                            <div><strong>âš–ï¸ Adet KG:</strong> ${kayit.adetKg}</div>
                            <div><strong>âš–ï¸ Toplam KG:</strong> ${kayit.toplamKg}</div>
                            <div><strong>ğŸ‘¤ Ekleyen:</strong> ${kayit.ekleyen}</div>
                            <div><strong>ğŸ“… Tarih:</strong> ${new Date(kayit.tarih).toLocaleString('tr-TR')}</div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function temizlemeEdit(id) {
            const kayit = temizlemeKayitlari.find(k => k.id === id);
            if (!kayit) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editTemizlemeForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ”¢ SipariÅŸ No</label>
                            <input type="text" id="editTemizlemeSiparisNo" value="${kayit.siparisNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n Kodu</label>
                            <input type="text" id="editTemizlemeUrunKodu" value="${kayit.urunKodu}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š SipariÅŸ Adeti</label>
                            <input type="number" id="editTemizlemeSiparisAdet" value="${kayit.siparisAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ Gelen Adet</label>
                            <input type="number" id="editTemizlemeGelenAdet" value="${kayit.gelenAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>âš–ï¸ Adet KG</label>
                            <input type="number" id="editTemizlemeAdetKg" value="${kayit.adetKg}" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>âš–ï¸ Toplam KG</label>
                            <input type="number" id="editTemizlemeToplamKg" value="${kayit.toplamKg}" step="0.01" min="0" required>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editTemizlemeForm').addEventListener('submit', function(e) {
                e.preventDefault();
                kayit.siparisNo = document.getElementById('editTemizlemeSiparisNo').value.trim();
                kayit.urunKodu = document.getElementById('editTemizlemeUrunKodu').value.trim();
                kayit.siparisAdet = parseInt(document.getElementById('editTemizlemeSiparisAdet').value) || 0;
                kayit.gelenAdet = parseInt(document.getElementById('editTemizlemeGelenAdet').value) || 0;
                kayit.adetKg = parseFloat(document.getElementById('editTemizlemeAdetKg').value) || 0;
                kayit.toplamKg = parseFloat(document.getElementById('editTemizlemeToplamKg').value) || 0;
                kayit.guncellemeTarihi = new Date().toISOString();
                
                localStorage.setItem('temizlemeKayitlari', JSON.stringify(temizlemeKayitlari));
                loadTemizlemeKayitlari();
                modal.style.display = 'none';
                showAlert('temizlemeAlert', 'Temizleme kaydÄ± baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function temizlemeSil(id) {
            if (confirm('Bu temizleme kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                temizlemeKayitlari = temizlemeKayitlari.filter(k => k.id !== id);
                localStorage.setItem('temizlemeKayitlari', JSON.stringify(temizlemeKayitlari));
                loadTemizlemeKayitlari();
                showAlert('temizlemeAlert', 'Temizleme kaydÄ± silindi!', 'success');
            }
        }

        // ==================== SEVKE HAZIR (GÃ–NDERÄ°LDÄ° Ä°ÅARETLEME) ====================
        function sevkeHazirEkle(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now(),
                siparisNo: document.getElementById('sevkeSiparisNo').value.trim(),
                urunNo: document.getElementById('sevkeUrunNo').value.trim(),
                sevkeHazirAdet: parseInt(document.getElementById('sevkeHazirAdet').value) || 0,
                koliAdet: parseInt(document.getElementById('sevkeKoliAdet').value) || 0,
                ekleyen: document.getElementById('sevkeHazirEkleyen').value,
                gonderildi: false,
                tarih: new Date().toISOString()
            };

            sevkeHazirKayitlari.push(formData);
            localStorage.setItem('sevkeHazirKayitlari', JSON.stringify(sevkeHazirKayitlari));
            
            document.getElementById('sevkeHazirForm').reset();
            loadSevkeHazirKayitlari();
            showAlert('sevkeHazirAlert', 'Sevke hazÄ±r kaydÄ± baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadSevkeHazirKayitlari() {
            const container = document.getElementById('sevkeHazirKayitlari');
            if (!container) return;

            if (sevkeHazirKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z sevke hazÄ±r kayÄ±t bulunmuyor.</p>';
                return;
            }

            let html = '';
            sevkeHazirKayitlari.slice().reverse().forEach(kayit => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div>
                                <strong>ğŸ”¢ ${kayit.siparisNo} - ğŸ“¦ ${kayit.urunNo}</strong>
                                ${kayit.gonderildi ? '<span class="durum-badge gonderildi" style="margin-left: 10px;">ğŸ“¤ GÃ¶nderildi</span>' : ''}
                            </div>
                            <div>
                                <button class="btn-edit" onclick="sevkeHazirEdit(${kayit.id})">âœï¸</button>
                                <button class="btn-delete" onclick="sevkeHazirSil(${kayit.id})" style="margin-left: 5px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“Š Sevke HazÄ±r Adet:</strong> ${kayit.sevkeHazirAdet}</div>
                            <div><strong>ğŸ“¦ Koli Adeti:</strong> ${kayit.koliAdet}</div>
                            <div><strong>ğŸ‘¤ Ekleyen:</strong> ${kayit.ekleyen}</div>
                            <div><strong>ğŸ“… Tarih:</strong> ${new Date(kayit.tarih).toLocaleString('tr-TR')}</div>
                            ${kayit.gonderildi && kayit.gonderilmeTarihi ? `<div><strong>ğŸ“¤ GÃ¶nderilme Tarihi:</strong> ${new Date(kayit.gonderilmeTarihi).toLocaleString('tr-TR')}</div>` : ''}
                        </div>
                        ${!kayit.gonderildi ? `
                            <div style="margin-top: 10px;">
                                <button class="btn btn-success" onclick="sevkeGonderildi(${kayit.id})">ğŸ“¤ GÃ¶nderildi Olarak Ä°ÅŸaretle</button>
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function sevkeGonderildi(id) {
            const kayit = sevkeHazirKayitlari.find(k => k.id === id);
            if (kayit && confirm('Bu Ã¼rÃ¼n gÃ¶nderildi olarak iÅŸaretlenecek. OnaylÄ±yor musunuz?')) {
                kayit.gonderildi = true;
                kayit.gonderilmeTarihi = new Date().toISOString();
                localStorage.setItem('sevkeHazirKayitlari', JSON.stringify(sevkeHazirKayitlari));
                loadSevkeHazirKayitlari();
                showAlert('sevkeHazirAlert', 'ÃœrÃ¼n gÃ¶nderildi olarak iÅŸaretlendi!', 'success');
            }
        }

        function sevkeHazirEdit(id) {
            const kayit = sevkeHazirKayitlari.find(k => k.id === id);
            if (!kayit) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editSevkeHazirForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ”¢ SipariÅŸ No</label>
                            <input type="text" id="editSevkeSiparisNo" value="${kayit.siparisNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n No</label>
                            <input type="text" id="editSevkeUrunNo" value="${kayit.urunNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š Sevke HazÄ±r Adet</label>
                            <input type="number" id="editSevkeHazirAdet" value="${kayit.sevkeHazirAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ Koli Adeti</label>
                            <input type="number" id="editSevkeKoliAdet" value="${kayit.koliAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="editSevkeGonderildi" ${kayit.gonderildi ? 'checked' : ''} style="transform: scale(1.3);">
                                GÃ¶nderildi
                            </label>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editSevkeHazirForm').addEventListener('submit', function(e) {
                e.preventDefault();
                kayit.siparisNo = document.getElementById('editSevkeSiparisNo').value.trim();
                kayit.urunNo = document.getElementById('editSevkeUrunNo').value.trim();
                kayit.sevkeHazirAdet = parseInt(document.getElementById('editSevkeHazirAdet').value) || 0;
                kayit.koliAdet = parseInt(document.getElementById('editSevkeKoliAdet').value) || 0;
                
                const gonderildiCheckbox = document.getElementById('editSevkeGonderildi');
                if (gonderildiCheckbox.checked && !kayit.gonderildi) {
                    kayit.gonderildi = true;
                    kayit.gonderilmeTarihi = new Date().toISOString();
                } else if (!gonderildiCheckbox.checked) {
                    kayit.gonderildi = false;
                    delete kayit.gonderilmeTarihi;
                }
                
                kayit.guncellemeTarihi = new Date().toISOString();
                
                localStorage.setItem('sevkeHazirKayitlari', JSON.stringify(sevkeHazirKayitlari));
                loadSevkeHazirKayitlari();
                modal.style.display = 'none';
                showAlert('sevkeHazirAlert', 'Sevke hazÄ±r kaydÄ± baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function sevkeHazirSil(id) {
            if (confirm('Bu sevke hazÄ±r kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                sevkeHazirKayitlari = sevkeHazirKayitlari.filter(k => k.id !== id);
                localStorage.setItem('sevkeHazirKayitlari', JSON.stringify(sevkeHazirKayitlari));
                loadSevkeHazirKayitlari();
                showAlert('sevkeHazirAlert', 'Sevke hazÄ±r kaydÄ± silindi!', 'success');
            }
        }

        // ==================== SEVK EDÄ°LEN ====================
        function sevkEdilenEkle(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now(),
                siparisNo: document.getElementById('sevkSiparisNo').value.trim(),
                urunTuru: document.getElementById('sevkUrunTuru').value.trim(),
                urunNo: document.getElementById('sevkUrunNo').value.trim(),
                teslimTarih: document.getElementById('sevkTeslimTarih').value,
                teslimAdet: parseInt(document.getElementById('sevkTeslimAdet').value) || 0,
                teslimAlan: document.getElementById('sevkTeslimAlan').value.trim(),
                depoIrsaliye: document.getElementById('sevkDepoIrsaliye').value.trim(),
                ekleyen: document.getElementById('sevkEdilenEkleyen').value,
                tarih: new Date().toISOString()
            };

            sevkEdilenKayitlari.push(formData);
            localStorage.setItem('sevkEdilenKayitlari', JSON.stringify(sevkEdilenKayitlari));
            
            document.getElementById('sevkEdilenForm').reset();
            const today = new Date().toISOString().slice(0, 10);
            document.getElementById('sevkTeslimTarih').value = today;
            
            loadSevkEdilenKayitlari();
            showAlert('sevkEdilenAlert', 'Sevk edilen kaydÄ± baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadSevkEdilenKayitlari() {
            const container = document.getElementById('sevkEdilenKayitlari');
            if (!container) return;

            if (sevkEdilenKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z sevk edilen kayÄ±t bulunmuyor.</p>';
                return;
            }

            let html = '';
            sevkEdilenKayitlari.slice().reverse().forEach(kayit => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ”¢ ${kayit.siparisNo} - ${kayit.urunTuru} (${kayit.urunNo})</strong></div>
                            <div>
                                <button class="btn-edit" onclick="sevkEdilenEdit(${kayit.id})">âœï¸</button>
                                <button class="btn-delete" onclick="sevkEdilenSil(${kayit.id})" style="margin-left: 5px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“… Teslim Tarihi:</strong> ${new Date(kayit.teslimTarih).toLocaleDateString('tr-TR')}</div>
                            <div><strong>ğŸ“Š Teslim Adeti:</strong> ${kayit.teslimAdet}</div>
                            <div><strong>ğŸ‘¤ Teslim Alan:</strong> ${kayit.teslimAlan}</div>
                            <div><strong>ğŸ“‹ Depo Ä°rsaliye:</strong> ${kayit.depoIrsaliye}</div>
                            <div><strong>ğŸ‘¤ Ekleyen:</strong> ${kayit.ekleyen}</div>
                            <div><strong>ğŸ“… KayÄ±t Tarihi:</strong> ${new Date(kayit.tarih).toLocaleString('tr-TR')}</div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function sevkEdilenEdit(id) {
            const kayit = sevkEdilenKayitlari.find(k => k.id === id);
            if (!kayit) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editSevkEdilenForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ”¢ SipariÅŸ No</label>
                            <input type="text" id="editSevkSiparisNo" value="${kayit.siparisNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n TÃ¼rÃ¼</label>
                            <input type="text" id="editSevkUrunTuru" value="${kayit.urunTuru}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n No</label>
                            <input type="text" id="editSevkUrunNo" value="${kayit.urunNo}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“… Teslim Tarihi</label>
                            <input type="date" id="editSevkTeslimTarih" value="${kayit.teslimTarih}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š Teslim Adeti</label>
                            <input type="number" id="editSevkTeslimAdet" value="${kayit.teslimAdet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ‘¤ Teslim Alan</label>
                            <input type="text" id="editSevkTeslimAlan" value="${kayit.teslimAlan}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“‹ Depo Ä°rsaliye</label>
                            <input type="text" id="editSevkDepoIrsaliye" value="${kayit.depoIrsaliye}" required>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editSevkEdilenForm').addEventListener('submit', function(e) {
                e.preventDefault();
                kayit.siparisNo = document.getElementById('editSevkSiparisNo').value.trim();
                kayit.urunTuru = document.getElementById('editSevkUrunTuru').value.trim();
                kayit.urunNo = document.getElementById('editSevkUrunNo').value.trim();
                kayit.teslimTarih = document.getElementById('editSevkTeslimTarih').value;
                kayit.teslimAdet = parseInt(document.getElementById('editSevkTeslimAdet').value) || 0;
                kayit.teslimAlan = document.getElementById('editSevkTeslimAlan').value.trim();
                kayit.depoIrsaliye = document.getElementById('editSevkDepoIrsaliye').value.trim();
                kayit.guncellemeTarihi = new Date().toISOString();
                
                localStorage.setItem('sevkEdilenKayitlari', JSON.stringify(sevkEdilenKayitlari));
                loadSevkEdilenKayitlari();
                modal.style.display = 'none';
                showAlert('sevkEdilenAlert', 'Sevk edilen kaydÄ± baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function sevkEdilenSil(id) {
            if (confirm('Bu sevk edilen kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                sevkEdilenKayitlari = sevkEdilenKayitlari.filter(k => k.id !== id);
                localStorage.setItem('sevkEdilenKayitlari', JSON.stringify(sevkEdilenKayitlari));
                loadSevkEdilenKayitlari();
                showAlert('sevkEdilenAlert', 'Sevk edilen kaydÄ± silindi!', 'success');
            }
        }

        // ==================== YARI MAMÃœL ====================
        function yariMamulEkle(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now(),
                urunAdi: document.getElementById('yariMamulUrunAdi').value.trim(),
                adet: parseInt(document.getElementById('yariMamulAdet').value) || 0,
                hangiParca: document.getElementById('yariMamulHangiParca').value.trim(),
                not: document.getElementById('yariMamulNot').value.trim(),
                ekleyen: document.getElementById('yariMamulEkleyen').value,
                tarih: new Date().toISOString()
            };

            yariMamulKayitlari.push(formData);
            localStorage.setItem('yariMamulKayitlari', JSON.stringify(yariMamulKayitlari));
            
            document.getElementById('yariMamulForm').reset();
            loadYariMamulKayitlari();
            showAlert('yariMamulAlert', 'YarÄ± mamÃ¼l kaydÄ± baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadYariMamulKayitlari() {
            const container = document.getElementById('yariMamulKayitlari');
            if (!container) return;

            if (yariMamulKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z yarÄ± mamÃ¼l kayÄ±t bulunmuyor.</p>';
                return;
            }

            let html = '';
            yariMamulKayitlari.slice().reverse().forEach(kayit => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ“¦ ${kayit.urunAdi} - ğŸ”§ ${kayit.hangiParca}</strong></div>
                            <div>
                                <button class="btn-edit" onclick="yariMamulEdit(${kayit.id})">âœï¸</button>
                                <button class="btn-delete" onclick="yariMamulSil(${kayit.id})" style="margin-left: 5px;">ğŸ—‘ï¸</button>
                            </div>
                        </div>
                        <div class="kayit-details">
                            <div><strong>ğŸ“Š Adet:</strong> ${kayit.adet}</div>
                            <div><strong>ğŸ“ Not:</strong> ${kayit.not || 'Yok'}</div>
                            <div><strong>ğŸ‘¤ Ekleyen:</strong> ${kayit.ekleyen}</div>
                            <div><strong>ğŸ“… Tarih:</strong> ${new Date(kayit.tarih).toLocaleString('tr-TR')}</div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function yariMamulEdit(id) {
            const kayit = yariMamulKayitlari.find(k => k.id === id);
            if (!kayit) return;

            const modal = document.getElementById('editModal');
            const container = document.getElementById('editFormContainer');
            
            container.innerHTML = `
                <form id="editYariMamulForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ğŸ“¦ ÃœrÃ¼n AdÄ±</label>
                            <input type="text" id="editYariMamulUrunAdi" value="${kayit.urunAdi}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“Š Adet</label>
                            <input type="number" id="editYariMamulAdet" value="${kayit.adet}" min="0" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ”§ Hangi ParÃ§a</label>
                            <input type="text" id="editYariMamulHangiParca" value="${kayit.hangiParca}" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“ Not</label>
                            <textarea id="editYariMamulNot" rows="3">${kayit.not}</textarea>
                        </div>
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <button type="submit" class="btn">ğŸ’¾ GÃ¼ncelle</button>
                        <button type="button" class="btn btn-danger" onclick="document.getElementById('editModal').style.display='none'" style="margin-left: 10px;">âŒ Ä°ptal</button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'block';
            
            document.getElementById('editYariMamulForm').addEventListener('submit', function(e) {
                e.preventDefault();
                kayit.urunAdi = document.getElementById('editYariMamulUrunAdi').value.trim();
                kayit.adet = parseInt(document.getElementById('editYariMamulAdet').value) || 0;
                kayit.hangiParca = document.getElementById('editYariMamulHangiParca').value.trim();
                kayit.not = document.getElementById('editYariMamulNot').value.trim();
                kayit.guncellemeTarihi = new Date().toISOString();
                
                localStorage.setItem('yariMamulKayitlari', JSON.stringify(yariMamulKayitlari));
                loadYariMamulKayitlari();
                modal.style.display = 'none';
                showAlert('yariMamulAlert', 'YarÄ± mamÃ¼l kaydÄ± baÅŸarÄ±yla gÃ¼ncellendi!', 'success');
            });
        }

        function yariMamulSil(id) {
            if (confirm('Bu yarÄ± mamÃ¼l kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                yariMamulKayitlari = yariMamulKayitlari.filter(k => k.id !== id);
                localStorage.setItem('yariMamulKayitlari', JSON.stringify(yariMamulKayitlari));
                loadYariMamulKayitlari();
                showAlert('yariMamulAlert', 'YarÄ± mamÃ¼l kaydÄ± silindi!', 'success');
            }
        }

        // ==================== PERFORMANS ====================
        function performansEkle(e) {
            e.preventDefault();
            
            const performansData = {
                id: Date.now(),
                tarih: document.getElementById('performansTarih').value,
                calisan: document.getElementById('performansCalisan').value,
                ekleyen: document.getElementById('performansEkleyen').value,
                islemler: {
                    kutuHazirlik: {
                        urun: document.getElementById('kutuHazirlikUrun').value.trim(),
                        adet: parseInt(document.getElementById('kutuHazirlikAdet').value) || 0,
                        sure: parseInt(document.getElementById('kutuHazirlikSure').value) || 0
                    },
                    koliHazirlama: {
                        urun: document.getElementById('koliHazirlamaUrun').value.trim(),
                        adet: parseInt(document.getElementById('koliHazirlamaAdet').value) || 0,
                        sure: parseInt(document.getElementById('koliHazirlamaSure').value) || 0
                    },
                    izolasyon: {
                        urun: document.getElementById('izolasyonUrunPerf').value.trim(),
                        adet: parseInt(document.getElementById('izolasyonAdetPerf').value) || 0,
                        sure: parseInt(document.getElementById('izolasyonSure').value) || 0
                    },
                    kaliteKontrol: {
                        urun: document.getElementById('kaliteKontrolUrun').value.trim(),
                        adet: parseInt(document.getElementById('kaliteKontrolAdet').value) || 0,
                        sure: parseInt(document.getElementById('kaliteKontrolSure').value) || 0
                    },
                    posetleme: {
                        urun: document.getElementById('posetlemeUrunPerf').value.trim(),
                        adet: parseInt(document.getElementById('posetlemeAdetPerf').value) || 0,
                        sure: parseInt(document.getElementById('posetlemeSure').value) || 0
                    },
                    urunKutulama: {
                        urun: document.getElementById('urunKutulamaUrun').value.trim(),
                        adet: parseInt(document.getElementById('urunKutulamaAdet').value) || 0,
                        sure: parseInt(document.getElementById('urunKutulamaSure').value) || 0
                    },
                    ekParca: {
                        urun: document.getElementById('ekParcaUrunPerf').value.trim(),
                        adet: parseInt(document.getElementById('ekParcaAdetPerf').value) || 0,
                        sure: parseInt(document.getElementById('ekParcaSure').value) || 0
                    }
                },
                olusturmaTarihi: new Date().toISOString()
            };

            performansKayitlari.push(performansData);
            localStorage.setItem('performansKayitlari', JSON.stringify(performansKayitlari));
            
            document.getElementById('performansForm').reset();
            const today = new Date().toISOString().slice(0, 10);
            document.getElementById('performansTarih').value = today;
            
            loadPerformansKayitlari();
            loadStats();
            loadIstatistikler();
            showAlert('performansAlert', 'Performans kaydÄ± baÅŸarÄ±yla eklendi!', 'success');
        }

        function loadPerformansKayitlari() {
            const container = document.getElementById('performansKayitlariListesi');
            if (!container) return;

            if (performansKayitlari.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">HenÃ¼z performans kaydÄ± bulunmuyor.</p>';
                return;
            }

            let html = '';
            performansKayitlari.slice().reverse().slice(0, 10).forEach(kayit => {
                html += `
                    <div class="kayit-item">
                        <div class="kayit-header">
                            <div><strong>ğŸ“… ${new Date(kayit.tarih).toLocaleDateString('tr-TR')} - ğŸ‘¤ ${kayit.calisan}</strong></div>
                            <div>
                                <button class="btn-delete" onclick="performansKaydiSil(${kayit.id})">ğŸ—‘ï¸ Sil</button>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 10px; margin-top: 15px;">
                            ${Object.entries(kayit.islemler).map(([key, islem]) => {
                                if (!islem.urun && !islem.adet && !islem.sure) return '';
                                const basliklar = {
                                    kutuHazirlik: 'ğŸ“¦ Kutu HazÄ±rlÄ±ÄŸÄ±',
                                    koliHazirlama: 'ğŸ“‹ Koli HazÄ±rlama',
                                    izolasyon: 'ğŸ”§ Ä°zolasyon',
                                    kaliteKontrol: 'ğŸ” Kalite Kontrol',
                                    posetleme: 'ğŸ›ï¸ PoÅŸetleme',
                                    urunKutulama: 'ğŸ“¦ ÃœrÃ¼n Kutulama',
                                    ekParca: 'ğŸ”© Ek ParÃ§a'
                                };
                                return `
                                    <div style="background: #f8f9fa; padding: 10px; border-radius: 6px; border-left: 3px solid #3498db;">
                                        <strong>${basliklar[key]}</strong><br>
                                        <small>ÃœrÃ¼n: ${islem.urun || '-'}</small><br>
                                        <small>Adet: ${islem.adet}</small><br>
                                        <small>SÃ¼re: ${islem.sure} dk</small>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <div style="margin-top: 10px; font-size: 12px; color: #666;">
                            <strong>ğŸ‘¤ Ekleyen:</strong> ${kayit.ekleyen}
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function performansKaydiSil(id) {
            if (confirm('Bu performans kaydÄ±nÄ± silmek istediÄŸinizden emin misiniz?')) {
                performansKayitlari = performansKayitlari.filter(k => k.id !== id);
                localStorage.setItem('performansKayitlari', JSON.stringify(performansKayitlari));
                loadPerformansKayitlari();
                loadStats();
                showAlert('performansAlert', 'Performans kaydÄ± silindi!', 'success');
            }
        }

        // ==================== GENEL FONKSÄ°YONLAR ====================
        function showTab(tabName) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));

            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'stok') {
                tumStoklariOzetGoster();
            } else if (tabName === 'istatistikler') {
                loadIstatistikler();
            } else if (tabName === 'veri-goruntule') {
                loadVeriTablosu();
            } else if (tabName === 'raporlar') {
                loadStats();
            } else if (tabName === 'guncel-isler') {
                loadGorevlerListesi();
            } else if (tabName === 'siparisler') {
                loadUrunSiparislerListesi();
            } else if (tabName === 'temizlemeden-gelen') {
                loadTemizGelKayitlari();
            }
        }

        function showAlert(containerId, message, type) {
            const container = document.getElementById(containerId);
            if (!container) return;

            const alertClass = type === 'success' ? 'alert-success' : 'alert-error';
            container.innerHTML = `<div class="alert ${alertClass}">${message}</div>`;
            
            setTimeout(() => {
                container.innerHTML = '';
            }, 3000);
        }

        function loadStats() {
            document.getElementById('toplamKaliteKayit').textContent = kaliteKayitlari.length;
            document.getElementById('toplamSiparisKayit').textContent = siparisHazirlikKayitlari.length;
            document.getElementById('toplamPerformansKayit').textContent = performansKayitlari.length;
            
            const tamamlananSiparisler = siparisHazirlikKayitlari.filter(s => s.durum === 'tamamlandi').length;
            document.getElementById('tamamlananSiparis').textContent = tamamlananSiparisler;

            const toplamHata = kaliteKayitlari.reduce((total, kayit) => {
                return total + kayit.hatalar.reduce((hataTotal, hata) => {
                    return hataTotal + hata.iskartaAdet + hata.geriGidenAdet;
                }, 0);
            }, 0);
            document.getElementById('toplamHataAdet').textContent = toplamHata;

            const toplamUretim = kaliteKayitlari.reduce((total, kayit) => total + kayit.toplamAdet, 0);
            const basariOrani = toplamUretim > 0 ? Math.round((1 - toplamHata/toplamUretim) * 100) : 0;
            document.getElementById('basariOrani').textContent = basariOrani + '%';

            // Raporlar sayfasÄ± iÃ§in
            if (document.getElementById('toplamKayit')) {
                document.getElementById('toplamKayit').textContent = kaliteKayitlari.length;
                document.getElementById('toplamSiparis').textContent = siparisHazirlikKayitlari.length;
                document.getElementById('toplamPerformans').textContent = performansKayitlari.length;
                document.getElementById('stokSayisi').textContent = stokKayitlari.length;
            }
        }

        function loadIstatistikler() {
            // Hata Ä°statistikleri
            const hataStats = {};
            kaliteKayitlari.forEach(kayit => {
                kayit.hatalar.forEach(hata => {
                    if (!hataStats[hata.tur]) {
                        hataStats[hata.tur] = { iskarta: 0, geriGiden: 0 };
                    }
                    hataStats[hata.tur].iskarta += hata.iskartaAdet;
                    hataStats[hata.tur].geriGiden += hata.geriGidenAdet;
                });
            });

            let hataHtml = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">';
            Object.entries(hataStats).forEach(([tur, stats]) => {
                const toplam = stats.iskarta + stats.geriGiden;
                hataHtml += `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #e74c3c;">
                        <h5 style="color: #2c3e50; margin-bottom: 10px;">${tur}</h5>
                        <div><strong>Ä°skarta:</strong> ${stats.iskarta}</div>
                        <div><strong>Geri Giden:</strong> ${stats.geriGiden}</div>
                        <div><strong>Toplam:</strong> ${toplam}</div>
                    </div>
                `;
            });
            hataHtml += '</div>';
            document.getElementById('hataIstatistikleri').innerHTML = hataHtml;

            // Performans Ä°statistikleri
            const perfStats = {};
            performansKayitlari.forEach(kayit => {
                Object.entries(kayit.islemler).forEach(([key, islem]) => {
                    if (!perfStats[key]) {
                        perfStats[key] = { toplamAdet: 0, toplamSure: 0 };
                    }
                    perfStats[key].toplamAdet += islem.adet;
                    perfStats[key].toplamSure += islem.sure;
                });
            });

            const perfBasliklar = {
                kutuHazirlik: 'ğŸ“¦ Kutu HazÄ±rlÄ±ÄŸÄ±',
                koliHazirlama: 'ğŸ“‹ Koli HazÄ±rlama',
                izolasyon: 'ğŸ”§ Ä°zolasyon',
                kaliteKontrol: 'ğŸ” Kalite Kontrol',
                posetleme: 'ğŸ›ï¸ PoÅŸetleme',
                urunKutulama: 'ğŸ“¦ ÃœrÃ¼n Kutulama',
                ekParca: 'ğŸ”© Ek ParÃ§a'
            };

            let perfHtml = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">';
            Object.entries(perfStats).forEach(([key, stats]) => {
                perfHtml += `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db;">
                        <h5 style="color: #2c3e50; margin-bottom: 10px;">${perfBasliklar[key]}</h5>
                        <div><strong>Toplam Adet:</strong> ${stats.toplamAdet}</div>
                        <div><strong>Toplam SÃ¼re:</strong> ${stats.toplamSure} dk</div>
                        <div><strong>Ortalama SÃ¼re:</strong> ${stats.toplamAdet > 0 ? (stats.toplamSure / stats.toplamAdet).toFixed(2) : 0} dk/adet</div>
                    </div>
                `;
            });
            perfHtml += '</div>';
            document.getElementById('performansIstatistikleri').innerHTML = perfHtml;

            // Ã‡alÄ±ÅŸan BazlÄ± Ä°statistikler
            const calisanStats = {};
            kaliteKayitlari.forEach(kayit => {
                if (!calisanStats[kayit.operator]) {
                    calisanStats[kayit.operator] = { toplamUretim: 0, toplamHata: 0 };
                }
                calisanStats[kayit.operator].toplamUretim += kayit.toplamAdet;
                calisanStats[kayit.operator].toplamHata += kayit.hatalar.reduce((total, hata) => 
                    total + hata.iskartaAdet + hata.geriGidenAdet, 0);
            });

            let calisanHtml = '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">';
            Object.entries(calisanStats).forEach(([calisan, stats]) => {
                const basariOrani = stats.toplamUretim > 0 ? 
                    Math.round((1 - stats.toplamHata / stats.toplamUretim) * 100) : 0;
                calisanHtml += `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #27ae60;">
                        <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸ‘¤ ${calisan}</h5>
                        <div><strong>Toplam Ãœretim:</strong> ${stats.toplamUretim}</div>
                        <div><strong>Toplam Hata:</strong> ${stats.toplamHata}</div>
                        <div><strong>BaÅŸarÄ± OranÄ±:</strong> <span style="color: ${basariOrani >= 90 ? '#27ae60' : basariOrani >= 70 ? '#f39c12' : '#e74c3c'}; font-weight: bold;">${basariOrani}%</span></div>
                    </div>
                `;
            });
            calisanHtml += '</div>';
            document.getElementById('calisanIstatistikleri').innerHTML = calisanHtml;
        }

        function loadVeriTablosu() {
            const veriTuru = document.getElementById('veriTuru').value;
            const tarihFiltre = document.getElementById('tarihFiltre').value;
            const container = document.getElementById('veriTablosuContainer');
            
            let veri = [];
            switch(veriTuru) {
                case 'kalite': veri = kaliteKayitlari; break;
                case 'siparis': veri = siparisHazirlikKayitlari; break;
                case 'performans': veri = performansKayitlari; break;
                case 'stok': veri = stokKayitlari; break;
                case 'temizleme': veri = temizlemeKayitlari; break;
                case 'temizGel': veri = temizGelKayitlari; break;
                case 'sevkeHazir': veri = sevkeHazirKayitlari; break;
                case 'sevkEdilen': veri = sevkEdilenKayitlari; break;
                case 'yariMamul': veri = yariMamulKayitlari; break;
                case 'gorevler': veri = gorevKayitlari; break;
                case 'urunSiparisler': veri = urunSiparisKayitlari; break;
            }

            // Tarih filtresi uygula
            if (tarihFiltre !== 'hepsi') {
                const now = new Date();
                veri = veri.filter(item => {
                    const itemDate = new Date(item.tarih || item.olusturmaTarihi);
                    
                    if (tarihFiltre === 'bugun') {
                        return itemDate.toDateString() === now.toDateString();
                    } else if (tarihFiltre === 'bu-hafta') {
                        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                        return itemDate >= weekAgo;
                    } else if (tarihFiltre === 'bu-ay') {
                        return itemDate.getMonth() === now.getMonth() && 
                               itemDate.getFullYear() === now.getFullYear();
                    }
                    return true;
                });
            }

            if (veri.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">SeÃ§ilen filtrede veri bulunmuyor.</p>';
                return;
            }

            let html = `<div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #e9ecef;">
                        <h4 style="margin-bottom: 15px;">Toplam ${veri.length} kayÄ±t bulundu</h4>
                        <pre style="background: #f8f9fa; padding: 15px; border-radius: 6px; overflow-x: auto; max-height: 500px;">`;
            html += JSON.stringify(veri, null, 2);
            html += '</pre></div>';
            
            container.innerHTML = html;
        }

        function exportCurrentData() {
            const veriTuru = document.getElementById('veriTuru').value;
            const tarihFiltre = document.getElementById('tarihFiltre').value;
            
            let veri = [];
            let dosyaAdi = '';
            
            switch(veriTuru) {
                case 'kalite':
                    veri = kaliteKayitlari;
                    dosyaAdi = 'kalite_kontrol';
                    break;
                case 'siparis':
                    veri = siparisHazirlikKayitlari;
                    dosyaAdi = 'siparis_hazirlik';
                    break;
                case 'performans':
                    veri = performansKayitlari;
                    dosyaAdi = 'performans';
                    break;
                case 'stok':
                    veri = stokKayitlari;
                    dosyaAdi = 'stok';
                    break;
                case 'temizleme':
                    veri = temizlemeKayitlari;
                    dosyaAdi = 'temizleme';
                    break;
                case 'temizGel':
                    veri = temizGelKayitlari;
                    dosyaAdi = 'temizlemeden_gelen';
                    break;
                case 'sevkeHazir':
                    veri = sevkeHazirKayitlari;
                    dosyaAdi = 'sevke_hazir';
                    break;
                case 'sevkEdilen':
                    veri = sevkEdilenKayitlari;
                    dosyaAdi = 'sevk_edilen';
                    break;
                case 'yariMamul':
                    veri = yariMamulKayitlari;
                    dosyaAdi = 'yari_mamul';
                    break;
                case 'gorevler':
                    veri = gorevKayitlari;
                    dosyaAdi = 'gorevler';
                    break;
                case 'urunSiparisler':
                    veri = urunSiparisKayitlari;
                    dosyaAdi = 'urun_siparisleri';
                    break;
            }

            const dataStr = JSON.stringify(veri, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `${dosyaAdi}_${new Date().toISOString().slice(0, 10)}.json`;
            link.click();
        }

        function exportToExcel(tip) {
            alert('Excel export fonksiyonu - Åu anda JSON formatÄ±nda indiriliyor.');
            
            let tumVeriler = {};
            if (tip === 'hepsi' || tip === 'kalite') {
                tumVeriler.kaliteKontrol = kaliteKayitlari;
            }
            if (tip === 'hepsi' || tip === 'performans') {
                tumVeriler.performans = performansKayitlari;
            }
            if (tip === 'hepsi' || tip === 'siparis') {
                tumVeriler.siparisHazirlik = siparisHazirlikKayitlari;
                tumVeriler.urunSiparisleri = urunSiparisKayitlari;
            }
            if (tip === 'hepsi') {
                tumVeriler.stok = stokKayitlari;
                tumVeriler.temizleme = temizlemeKayitlari;
                tumVeriler.temizlemedenGelen = temizGelKayitlari;
                tumVeriler.sevkeHazir = sevkeHazirKayitlari;
                tumVeriler.sevkEdilen = sevkEdilenKayitlari;
                tumVeriler.yariMamul = yariMamulKayitlari;
                tumVeriler.gorevler = gorevKayitlari;
            }

            const dataStr = JSON.stringify(tumVeriler, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `akg_sistem_verileri_${tip}_${new Date().toISOString().slice(0, 10)}.json`;
            link.click();
        }

        function exportAllData() {
            const tumVeriler = {
                kaliteKayitlari,
                siparisHazirlikKayitlari,
                performansKayitlari,
                stokKayitlari,
                temizlemeKayitlari,
                temizGelKayitlari,
                sevkeHazirKayitlari,
                sevkEdilenKayitlari,
                yariMamulKayitlari,
                gorevKayitlari,
                urunSiparisKayitlari,
                yedeklemeTarihi: new Date().toISOString()
            };

            const dataStr = JSON.stringify(tumVeriler, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `akg_sistem_yedek_${new Date().toISOString().slice(0, 10)}.json`;
            link.click();
            alert('TÃ¼m veriler baÅŸarÄ±yla yedeklendi!');
        }

        function importData() {
            const fileInput = document.getElementById('importFile');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('LÃ¼tfen bir dosya seÃ§in!');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const veriler = JSON.parse(e.target.result);
                    
                    if (confirm('Mevcut verilerin Ã¼zerine yazÄ±lacak. Devam etmek istiyor musunuz?')) {
                        if (veriler.kaliteKayitlari) {
                            kaliteKayitlari = veriler.kaliteKayitlari;
                            localStorage.setItem('kaliteKayitlari', JSON.stringify(kaliteKayitlari));
                        }
                        if (veriler.siparisHazirlikKayitlari) {
                            siparisHazirlikKayitlari = veriler.siparisHazirlikKayitlari;
                            localStorage.setItem('siparisHazirlikKayitlari', JSON.stringify(siparisHazirlikKayitlari));
                        }
                        if (veriler.performansKayitlari) {
                            performansKayitlari = veriler.performansKayitlari;
                            localStorage.setItem('performansKayitlari', JSON.stringify(performansKayitlari));
                        }
                        if (veriler.stokKayitlari) {
                            stokKayitlari = veriler.stokKayitlari;
                            localStorage.setItem('stokKayitlari', JSON.stringify(stokKayitlari));
                        }
                        if (veriler.temizlemeKayitlari) {
                            temizlemeKayitlari = veriler.temizlemeKayitlari;
                            localStorage.setItem('temizlemeKayitlari', JSON.stringify(temizlemeKayitlari));
                        }
                        if (veriler.temizGelKayitlari) {
                            temizGelKayitlari = veriler.temizGelKayitlari;
                            localStorage.setItem('temizGelKayitlari', JSON.stringify(temizGelKayitlari));
                        }
                        if (veriler.sevkeHazirKayitlari) {
                            sevkeHazirKayitlari = veriler.sevkeHazirKayitlari;
                            localStorage.setItem('sevkeHazirKayitlari', JSON.stringify(sevkeHazirKayitlari));
                        }
                        if (veriler.sevkEdilenKayitlari) {
                            sevkEdilenKayitlari = veriler.sevkEdilenKayitlari;
                            localStorage.setItem('sevkEdilenKayitlari', JSON.stringify(sevkEdilenKayitlari));
                        }
                        if (veriler.yariMamulKayitlari) {
                            yariMamulKayitlari = veriler.yariMamulKayitlari;
                            localStorage.setItem('yariMamulKayitlari', JSON.stringify(yariMamulKayitlari));
                        }
                        if (veriler.gorevKayitlari) {
                            gorevKayitlari = veriler.gorevKayitlari;
                            localStorage.setItem('gorevKayitlari', JSON.stringify(gorevKayitlari));
                        }
                        if (veriler.urunSiparisKayitlari) {
                            urunSiparisKayitlari = veriler.urunSiparisKayitlari;
                            localStorage.setItem('urunSiparisKayitlari', JSON.stringify(urunSiparisKayitlari));
                        }

                        alert('Veriler baÅŸarÄ±yla geri yÃ¼klendi!');
                        location.reload();
                    }
                } catch (error) {
                    alert('Dosya okuma hatasÄ±: ' + error.message);
                }
            };
            reader.readAsText(file);
        }

        function clearAllData() {
            if (confirm('TÃœM VERÄ°LER SÄ°LÄ°NECEK! Bu iÅŸlem geri alÄ±namaz. Devam etmek istiyor musunuz?')) {
                if (confirm('Emin misiniz? Bu iÅŸlem geri alÄ±namaz!')) {
                    localStorage.clear();
                    alert('TÃ¼m veriler silindi. Sayfa yenilenecek.');
                    location.reload();
                }
            }
        }
    </script>
</body>
</html>
